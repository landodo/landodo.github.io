<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script>
<meta name="robots" content="index, follow">
<title>Boundary loss for highly unbalanced segmentation | NoteBook</title>
<meta name="keywords" content="åˆ†å‰², CNN, è®ºæ–‡é˜…è¯»" />
<meta name="description" content="Boundary loss for highly unbalanced segmentation Csurka, G., Larlus, D., &amp; Perronnin, F. (2013). What is a good evaluation measure for semantic segmentation? BMVC. (218 Citations.) Kervadec, H., Bouchtiba, J., Desrosiers, C., Granger, Ã‰., Dolz, J., &amp; Ayed, I.B. (2019). Boundary loss for highly unbalanced segmentation. Medical image analysis, 67, 101851 . (95 Citations) è®ºæ–‡ PDF : https://openreview.net/pdf?id=S1gTA5VggE æˆ–è€…ï¼ˆhttps:">
<meta name="author" content="">
<link rel="canonical" href="http://landodo.github.io/posts/20210530-boundary-loss/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js" integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://landodo.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://landodo.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://landodo.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://landodo.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="http://landodo.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Boundary loss for highly unbalanced segmentation" />
<meta property="og:description" content="Boundary loss for highly unbalanced segmentation Csurka, G., Larlus, D., &amp; Perronnin, F. (2013). What is a good evaluation measure for semantic segmentation? BMVC. (218 Citations.) Kervadec, H., Bouchtiba, J., Desrosiers, C., Granger, Ã‰., Dolz, J., &amp; Ayed, I.B. (2019). Boundary loss for highly unbalanced segmentation. Medical image analysis, 67, 101851 . (95 Citations) è®ºæ–‡ PDF : https://openreview.net/pdf?id=S1gTA5VggE æˆ–è€…ï¼ˆhttps:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://landodo.github.io/posts/20210530-boundary-loss/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-30T10:17:29&#43;08:00" />
<meta property="article:modified_time" content="2021-05-30T10:17:29&#43;08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Boundary loss for highly unbalanced segmentation"/>
<meta name="twitter:description" content="Boundary loss for highly unbalanced segmentation Csurka, G., Larlus, D., &amp; Perronnin, F. (2013). What is a good evaluation measure for semantic segmentation? BMVC. (218 Citations.) Kervadec, H., Bouchtiba, J., Desrosiers, C., Granger, Ã‰., Dolz, J., &amp; Ayed, I.B. (2019). Boundary loss for highly unbalanced segmentation. Medical image analysis, 67, 101851 . (95 Citations) è®ºæ–‡ PDF : https://openreview.net/pdf?id=S1gTA5VggE æˆ–è€…ï¼ˆhttps:"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://landodo.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Boundary loss for highly unbalanced segmentation",
      "item": "http://landodo.github.io/posts/20210530-boundary-loss/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Boundary loss for highly unbalanced segmentation",
  "name": "Boundary loss for highly unbalanced segmentation",
  "description": "Boundary loss for highly unbalanced segmentation Csurka, G., Larlus, D., \u0026amp; Perronnin, F. (2013). What is a good evaluation measure for semantic segmentation? BMVC. (218 Citations.) Kervadec, H., Bouchtiba, J., Desrosiers, C., Granger, Ã‰., Dolz, J., \u0026amp; Ayed, I.B. (2019). Boundary loss for highly unbalanced segmentation. Medical image analysis, 67, 101851 . (95 Citations) è®ºæ–‡ PDF : https://openreview.net/pdf?id=S1gTA5VggE æˆ–è€…ï¼ˆhttps:",
  "keywords": [
    "åˆ†å‰²", "CNN", "è®ºæ–‡é˜…è¯»"
  ],
  "articleBody": "Boundary loss for highly unbalanced segmentation  Csurka, G., Larlus, D., \u0026 Perronnin, F. (2013). What is a good evaluation measure for semantic segmentation? BMVC.\n(218 Citations.)\n  Kervadec, H., Bouchtiba, J., Desrosiers, C., Granger, Ã‰., Dolz, J., \u0026 Ayed, I.B. (2019). Boundary loss for highly unbalanced segmentation. Medical image analysis, 67, 101851 .\n(95 Citations)\n  è®ºæ–‡ PDF : https://openreview.net/pdf?id=S1gTA5VggE æˆ–è€…ï¼ˆhttps://arxiv.org/pdf/1812.07032.pdfï¼‰ æœŸåˆŠï¼šMedical Imaging with Deep Learning (MIDL 2019 Conference), best paper award at MIDL 2019. ä½œè€…çš„ Presentationï¼šhttps://www.bilibili.com/video/BV1U4411F76aï¼ˆ3:29:00 å¼€å§‹ï¼‰ source codeï¼šhttps://github.com/LIVIAETS/boundary-loss/blob/master/losses.py  0 Abstract Dice loss å’Œ cross-entropy è¿™ç§åŒºåŸŸæŸå¤±åœ¨ç±»åˆ«é«˜åº¦ä¸å¹³è¡¡çš„åˆ†å‰²ä»»åŠ¡ä¸­ï¼Œä¼šå½±å“åˆ°è®­ç»ƒæ€§èƒ½å’Œç¨³å®šæ€§ã€‚æœ¬ç¯‡è®ºæ–‡æå‡ºäº†ä¸€ç§è¾¹ç•ŒæŸå¤±ï¼ˆboundary lossï¼‰ï¼Œå…¶å½¢å¼æ˜¯è½®å»“ï¼ˆæˆ–å½¢çŠ¶ï¼‰ç©ºé—´ä¸Šçš„è·ç¦»åº¦é‡ï¼Œè€Œä¸æ˜¯åŒºåŸŸï¼Œ\n è¿™å¯ä»¥å‡è½»åœ¨é«˜åº¦ä¸å¹³è¡¡çš„åˆ†å‰²é—®é¢˜ä¸­åŒºåŸŸæŸå¤±çš„å›°éš¾ï¼› æ­¤å¤–ï¼Œè¾¹ç•ŒæŸå¤±æä¾›çš„ä¿¡æ¯æ˜¯å¯¹åŒºåŸŸæŸå¤±çš„è¡¥å……ã€‚  åœ¨è®¡ç®—æ—¶ï¼Œå°†å½¢çŠ¶ç©ºé—´ä¸Šçš„éå¯¹ç§° L2 è·ç¦»è¡¨è¾¾ä¸ºåŒºåŸŸç§¯åˆ†ï¼Œè¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªç”¨ç½‘ç»œçš„åŒºåŸŸ softmax æ¦‚ç‡è¾“å‡ºè¡¨ç¤ºçš„è¾¹ç•ŒæŸå¤±ï¼Œå®ƒå¯ä»¥å¾ˆå®¹æ˜“åœ°ä¸æ ‡å‡†çš„åŒºåŸŸæŸå¤±ç›¸ç»“åˆã€‚\nåœ¨ the ischemic stroke lesion (ISLES) and white matter hyperintensities (WMH) è¿™ä¸¤ä¸ªé«˜åº¦ä¸å¹³è¡¡æ•°æ®é›†ä¸Šï¼ŒDice + boundary ç›¸æ¯”äºå•ç‹¬ä½¿ç”¨ Diceï¼Œå…¶ Dice score æå‡äº† 8%ã€‚\nğŸ’¢TODOï¼šçœ¼åº•è§†ç½‘è†œåˆ†å‰²æ•°æ®é›†ï¼ˆDRIVE/CHASE_DB1ï¼‰ï¼Œæˆ–è®¸ä¹Ÿå¯ä»¥å½’ä¸ºä¸å¹³è¡¡çš„æ•°æ®é›†ï¼Œä½¿ç”¨ Dice Loss + æœ¬ç¯‡è®ºæ–‡çš„ boundary loss æˆ–è®¸å¯ä»¥åœ¨åŸåŸºç¡€ä¹‹ä¸Šæå‡æœ€åçš„æ€§èƒ½ï¼Œå¯ä»¥ç®€å•è¯•ä¸€ä¸‹å®éªŒç»“æœã€‚\n##1 Introduction\nDice or cross-entropy éƒ½åŸºäºåŸºäºåŒºåŸŸç§¯åˆ†ï¼ˆregional integralsï¼‰ï¼Œè¿™å¯¹è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œå¾ˆæ–¹ä¾¿ã€‚\næ ‡å‡†åŒºåŸŸæŸå¤±åŒ…å«å‰æ™¯å’ŒèƒŒæ™¯é¡¹ï¼Œå®ƒä»¬çš„å€¼æœ‰å¾ˆå¤§å·®å¼‚ï¼Œé€šå¸¸æ˜¯å‡ ä¸ªæ•°é‡çº§ï¼Œè¿™å¯èƒ½ä¼šå½±å“æ€§èƒ½å’Œè®­ç»ƒçš„ç¨³å®šæ€§ï¼Œè¿™åœ¨åŒ»å­¦å›¾åƒåˆ†æä¸­ç›¸å½“å¸¸è§ã€‚\näº¤å‰ç†µ åœ¨é«˜åº¦ä¸å¹³è¡¡çš„é—®é¢˜ä¸Šï¼Œæ ‡å‡†çš„åŒºåŸŸ äº¤å‰ç†µï¼ˆCEï¼‰æœ‰ä¼—æ‰€å‘¨çŸ¥çš„ç¼ºç‚¹ï¼š\n å®ƒå‡å®šæ‰€æœ‰æ ·æœ¬å’Œç±»åˆ«çš„é‡è¦æ€§åˆ†å¸ƒæ˜¯ç›¸åŒçš„ï¼› CE é€šå¸¸ä¼šå¯¼è‡´ä¸ç¨³å®šçš„è®­ç»ƒï¼Œå¹¶å¯¼è‡´å†³ç­–è¾¹ç•Œåå‘äºå¤§å¤šæ•°ç±»åˆ«ã€‚  å¸¸è§çš„ç¼“è§£ç±»åˆ«ä¸å¹³è¡¡ç­–ç•¥ï¼š\n re-balance class prior distributions by down-sampling frequent labels. assign weights to the different classes, inversely proportional to the frequency of the corresponding labels.  Dice  Lee Raymond Dice å‘½å\nVNet åº”ç”¨ Dice Loss\n Dice coefficient ç­‰åŒ F1 scoreã€‚Dice Loss ä¸€ç§èƒ½å¤Ÿç›´æ¥ä½œç”¨äº F1 Score çš„æŸå¤±å‡½æ•°ã€‚\n åœ¨å¤„ç†éå¸¸å°çš„ç»“æ„æ—¶å¯èƒ½ä¼šé‡åˆ°å›°éš¾ï¼Œè®­ç»ƒä¸ç¨³å®šï¼› Dice å¯¹åº”äºç²¾ç¡®åº¦å’Œå¬å›ç‡ä¹‹é—´çš„è°æ³¢å¹³å‡å€¼ï¼Œè¿™ç§æŸå¤±ä¸»è¦é€‚åˆäº FP å’Œ FN åŒæ ·ç³Ÿç³•çš„æ—¶å€™ã€‚  ç›¸æ¯”äº Dice å­˜åœ¨çš„ç¼ºç‚¹ï¼ŒTversky ç›¸ä¼¼åº¦æŒ‡æ•°å¯ä»¥åœ¨ç²¾ç¡®åº¦å’Œå¬å›ç‡ä¹‹é—´æä¾›ä¸€ä¸ªæ›´å¥½çš„æƒè¡¡ã€‚\nâœ… Dice loss æ¯”è¾ƒé€‚ç”¨äºæ ·æœ¬æåº¦ä¸å‡çš„æƒ…å†µï¼Œä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ Dice loss ä¼šå¯¹åå‘ä¼ æ’­é€ æˆä¸åˆ©çš„å½±å“ï¼Œå®¹æ˜“ä½¿è®­ç»ƒå˜å¾—ä¸ç¨³å®šã€‚\nè®ºæ–‡è´¡çŒ®ï¼š\n In this paper, we propose a boundary loss that takes the form of a distance metric on the space of contours (or shapes), not regions.\nWe argue that a boundary loss can mitigate the issues related to regional losses in highly unbalanced segmentation problems. Rather than using unbalanced integrals over the regions, a boundary loss uses integrals over the boundary (interface) between the regions.\nFurthermore, it provides information that is complimentary to regional losses.\n 2. Formulation å¯¹äºä¸¤ä¸ªåŒºåŸŸçš„æƒ…å†µï¼Œä¸€èˆ¬å½¢å¼çš„ç§¯åˆ†ï¼š\n$$f = -log(\\cdot)$$\nå¹¿ä¹‰ Dice æŸå¤±ï¼ˆGDLï¼‰ï¼š\n â„¦ è¡¨ç¤ºå…·æœ‰ç©ºé—´åŸŸçš„è®­ç»ƒå›¾åƒ g è¡¨ç¤ºå¯¹å›¾åƒè¿›è¡ŒäºŒè¿›åˆ¶çš„ Ground Truth åˆ†å‰²ï¼Œg(p) = 1 è¡¨ç¤ºåƒç´  p å±äºç›®æ ‡åŒºåŸŸ GâŠ‚Î©ï¼ˆå‰æ™¯åŒºåŸŸï¼‰ï¼Œå¦åˆ™ä¸º 0 Î©\\Gï¼ˆèƒŒæ™¯åŒºåŸŸï¼‰ $s_\\theta$ è¡¨ç¤ºåˆ†å‰²ç½‘ç»œçš„ softmax æ¦‚ç‡è¾“å‡º  å¹¿æ³›ä½¿ç”¨çš„åˆ†å‰²æŸå¤±å‡½æ•°æ¶‰åŠ Î© ä¸­æ¯ä¸ªåˆ†å‰²åŒºåŸŸçš„åŒºåŸŸç§¯åˆ†ï¼Œå®ƒè¡¡é‡ç½‘ç»œçš„æ¦‚ç‡è¾“å‡ºæ‰€å®šä¹‰çš„åŒºåŸŸä¸ç›¸åº”çš„åœ°é¢å®å†µä¹‹é—´çš„ä¸€äº›ç›¸ä¼¼æ€§ï¼ˆæˆ–é‡å ï¼‰ã€‚\nåœ¨åŒ»å­¦å›¾åƒåˆ†æä¸­ï¼Œæä¸å¹³è¡¡çš„åˆ†å‰²éå¸¸å¸¸è§ï¼Œä¾‹å¦‚ï¼Œç›®æ ‡å‰æ™¯åŒºåŸŸçš„å¤§å°æ¯”èƒŒæ™¯å¤§å°å°å‡ ä¸ªæ•°é‡çº§ï¼Œå¦‚æ­¤ä¹‹å¤§çš„å·®å¼‚å½±å“äº†åˆ†å‰²çš„æ€§èƒ½å’Œè®­ç»ƒçš„ç¨³å®šæ€§ã€‚\nBoundary Loss Dist($âˆ‚_G, âˆ‚_{S_\\theta}$ )ï¼š$âˆ‚_G$ è¡¨ç¤ºåŒºåŸŸ G çš„ Ground Truth è¾¹ç•Œï¼Œ$âˆ‚_{S_Î¸}$è¡¨ç¤ºç”±ç½‘ç»œè¾“å‡ºå®šä¹‰çš„åˆ†å‰²åŒºåŸŸ G çš„è¾¹ç•Œã€‚\n ï¼ˆ1ï¼‰è¾¹ç•ŒæŸå¤±åº”è¯¥èƒ½å¤Ÿå‡è½»ä¸Šè¿°ä¸å¹³è¡¡åˆ†å‰²çš„å›°éš¾ï¼šå®ƒä½¿ç”¨åŒºåŸŸä¹‹é—´çš„è¾¹ç•Œçš„ç§¯åˆ†ã€‚æ­¤å¤–ï¼Œè¾¹ç•ŒæŸå¤±æä¾›çš„ä¿¡æ¯ä¸åŒºåŸŸæŸå¤±ä¸åŒï¼Œå› æ­¤æ˜¯è¡¥å……æ€§çš„ã€‚ ï¼ˆ2ï¼‰å¹¶ä¸æ¸…æ¥šå¦‚ä½•å°† $âˆ‚_{S_Î¸}$ ä¸Šçš„è¾¹ç•Œç‚¹è¡¨ç¤ºä¸ºåŒºåŸŸç½‘ç»œè¾“å‡º sÎ¸ çš„å¯å¾®è°ƒå‡½æ•°ã€‚ï¼ˆæˆ‘çš„ç†è§£æ˜¯ï¼šBoundary Loss å•ç‹¬ä½¿ç”¨å¹¶ä¸ workï¼Œæ— æ³•ä½¿ç”¨åå‘ä¼ æ’­æ›´æ–°ï¼‰  æœ¬ç¯‡è®ºæ–‡æå‡ºçš„ Boundary Loss å¯å‘è‡ª discrete (graph-based) optimization techniques for computing gradient flows of curve evolution (Boykov et al., 2006). curve evolution methods éœ€è¦ä¸€ä¸ªè¯„ä¼°è¾¹ç•Œå˜åŒ–ï¼ˆæˆ–å˜åŒ–ï¼‰çš„æªæ–½ã€‚\nBoundary Loss Dist($âˆ‚_G, âˆ‚_{S_\\theta}$ )ï¼šè¯„ä¼°ä¸¤ä¸ªé™„è¿‘è¾¹ç•Œ âˆ‚S å’Œ âˆ‚G ä¹‹é—´çš„å˜åŒ–ï¼ˆBoykov ç­‰äººï¼Œ2006ï¼‰ã€‚\n ğŸ’¢ä¸ºä»€ä¹ˆ (2) ä¸èƒ½ç›´æ¥ä½œä¸º Loss è¿›è¡Œä¼˜åŒ–ï¼Ÿç†è§£äº†è¿™ä¸ªå¾ˆé‡è¦ï¼\n  pâˆˆÎ© æ˜¯è¾¹ç•Œ âˆ‚G ä¸Šçš„ä¸€ä¸ªç‚¹ yâˆ‚S(p) è¡¨ç¤ºè¾¹ç•Œ âˆ‚S ä¸Šçš„ç›¸åº”ç‚¹ï¼ˆæ³•çº¿æ–¹å‘äº¤ç‚¹ï¼‰ã€‚  å…¬å¼ (2) ä¸èƒ½ç›´æ¥ä½œä¸º âˆ‚S= âˆ‚SÎ¸ çš„æŸå¤±ï¼ï¼ï¼\nâœ… å¾ˆå®¹æ˜“è¡¨æ˜ï¼Œ(2) ä¸­çš„å¾®åˆ†è¾¹ç•Œå˜åŒ–å¯ä»¥ç”¨ç§¯åˆ†æ–¹æ³•æ¥è¡¨è¾¾ (Boykov ç­‰äººï¼Œ2006)ï¼Œç§¯åˆ†æ–¹æ³•å®Œå…¨é¿å…äº†æ¶‰åŠè½®å»“ç‚¹çš„å±€éƒ¨å¾®åˆ†è®¡ç®—ï¼Œå¹¶å°†è¾¹ç•Œå˜åŒ–è¡¨ç¤ºä¸ºä¸€ä¸ªåŒºåŸŸç§¯åˆ†ã€‚å¾—åˆ°å…¬å¼ (3)ã€‚\n it is easy to show that the differential boundary variation in (2) can be expressed using an integral approach (Boykov et al., 2006), which avoids completely local differential computations involving contour points and represents boundary change as a regional integral:\n å…¶ä¸­ï¼Œâˆ†S è¡¨ç¤ºä¸¤æ¡è½®å»“çº¿ä¹‹é—´çš„åŒºåŸŸï¼ŒDG : Î©â†’R+ æ˜¯ç›¸å¯¹äºè¾¹ç•Œ âˆ‚G çš„è·ç¦»å›¾ï¼Œå³ $D_G(q)$ è¯„ä¼°äº†ç‚¹ qâˆˆÎ© ä¸è½®å»“ âˆ‚G ä¸Šæœ€è¿‘çš„ç‚¹ $z_{âˆ‚G}(q)$ ä¹‹é—´çš„è·ç¦»ã€‚\nå°† instance map $2D_{G}(q)$ åœ¨è¿æ¥ âˆ‚G ä¸Šçš„ç‚¹ p å’Œ $y_{âˆ‚S}(p)$ çš„æ³•çº¿æ®µä¸Šç§¯åˆ†ï¼Œå°±å¯ä»¥å¾—åˆ°ï¼š\nå› æ­¤ï¼Œä»å…¬å¼ï¼ˆ3ï¼‰æ¥çœ‹ï¼Œå…¬å¼ï¼ˆ2ï¼‰ä¸­è½®å»“çº¿ä¹‹é—´çš„éå¯¹ç§° L2 è·ç¦»å¯ä»¥è¡¨ç¤ºä¸ºåŸºäºè¾¹ç•Œ âˆ‚G çš„ level set è¡¨ç¤ºçš„åŒºåŸŸç§¯åˆ†ä¹‹å’Œã€‚\n â“ä»€ä¹ˆæ˜¯ level setï¼Ÿ\n  s : Î©â†’{0,1} æ˜¯åŒºåŸŸ S çš„ binary indicator functionï¼Œå¦‚æœ qâˆˆS å±äºç›®æ ‡ï¼Œs(q)=1ï¼Œå¦åˆ™ä¸º 0ã€‚ $\\phi_G$ : Î©â†’R è¡¨ç¤ºè¾¹ç•Œ âˆ‚G çš„ level set è¡¨ç¤ºï¼Œå¦‚æœ qâˆˆGï¼Œ$\\phi_{G}(q)=-D_G(q)$ï¼Œå¦åˆ™ $\\phi_G(q)=D_G(q)$ã€‚  approximates boundary distance Dist(âˆ‚G,âˆ‚SÎ¸ ):\nå®¹æ˜“ä¸æ ‡å‡†çš„åŒºåŸŸæŸå¤±ç›¸ç»“åˆï¼š\nExperiment  Dice ç›¸ä¼¼ç³»æ•°ï¼ˆDice Similariy Coefficient,DSCï¼‰ï¼Œå–å€¼èŒƒå›´ [0, 1]ï¼Œ1 ä¸ºæœ€å¥½ï¼Œ0 ä¸ºæœ€å·®ã€‚ Hausdorff Distance è±ªæ–¯å¤šå¤«è·ç¦»ï¼šä»¥é›†åˆ A ä¸­ä»»ä¸€ç‚¹ï¼ŒåŠå¾„å– HD ç”»åœ†ï¼Œå¯ä»¥åŒ…å«é›†åˆ B çš„æ‰€æœ‰ç‚¹ã€‚   boundary loss term brings a DSC improvement of around 2% on the WMH dataset, it achieves 8% better DSC on the ISLES segmentation task. The same trend is observed with the HD metric, where the gain is larger on the ISLES dataset than on WMH.\n è¾¹ç•ŒæŸå¤±é¡¹æœ‰åŠ©äºç¨³å®šè®­ç»ƒè¿‡ç¨‹ï¼Œéšç€ç½‘ç»œè®­ç»ƒçš„æ”¶æ•›ï¼Œäº§ç”Ÿäº†ä¸€ä¸ªæ›´å¹³æ»‘çš„æ›²çº¿ã€‚Boundary Loss åªæ¶‰åŠä¸¤ä¸ªçŸ©é˜µä¹‹é—´çš„å…ƒç´ ç›¸ä¹˜ï¼Œæ‰€å¢åŠ çš„è®¡ç®—å¤æ‚åº¦å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚\næ€»ç»“ â€¢å•ç‹¬ä½¿ç”¨ Boundary Loss ä¸ workï¼Œä¸€èˆ¬è¿›è¡Œä¸ Dice ç»„åˆä½¿ç”¨ã€‚\nâ€¢ç†è®ºä¸Šï¼Œè¾¹ç•ŒæŸå¤±çš„å…¨å±€æœ€ä¼˜å¯¹åº”äºä¸€ä¸ªè´Ÿå€¼ï¼Œå› ä¸ºä¸€ä¸ªå®Œç¾çš„é‡å åªå¯¹è·ç¦»å›¾çš„è´Ÿå€¼è¿›è¡Œæ±‚å’Œã€‚\nâ€¢è¾¹ç•ŒæŸå¤±é¡¹æœ‰åŠ©äºç¨³å®šè®­ç»ƒè¿‡ç¨‹ï¼Œéšç€ç½‘ç»œè®­ç»ƒçš„æ”¶æ•›ï¼Œäº§ç”Ÿäº†ä¸€ä¸ªæ›´å¹³æ»‘çš„æ›²çº¿\nâ€¢ä½¿ç”¨ Boundary Loss å¸¦æ¥çš„è®¡ç®—é‡å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚\nâ€¢åˆ©ç”¨äº† S å’Œ G ç©ºé—´ä¸Šçš„ä¸€äº›ä¿¡æ¯ï¼Œå¸¦æ¥äº†ä¸€å®šçš„æ€§èƒ½æå‡ã€‚\nâ€¢ä½œè€…åšå¾—å®éªŒå¤ªå°‘ï¼Œ Boundary Loss æ˜¯å¦èƒ½æ™®éæå‡ performance è¿˜éœ€è¦æ›´å¤šçš„å®éªŒéªŒè¯ã€‚\n",
  "wordCount" : "2633",
  "inLanguage": "en",
  "datePublished": "2021-05-30T10:17:29+08:00",
  "dateModified": "2021-05-30T10:17:29+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://landodo.github.io/posts/20210530-boundary-loss/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "NoteBook",
    "logo": {
      "@type": "ImageObject",
      "url": "http://landodo.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://landodo.github.io/" accesskey="h" title="NoteBook (Alt + H)">NoteBook</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://landodo.github.io/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/tags" title="Tag">
                    <span>Tag</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/cs-zoo" title="CS ZOO">
                    <span>CS ZOO</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://landodo.github.io/">Home</a>&nbsp;Â»&nbsp;<a href="http://landodo.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      Boundary loss for highly unbalanced segmentation
    </h1>
    <div class="post-meta"><span title='2021-05-30 10:17:29 +0800 CST'>May 30, 2021</span>&nbsp;Â·&nbsp;6 min&nbsp;Â·&nbsp;2633 words

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#boundary-loss-for-highly-unbalanced-segmentation" aria-label="Boundary loss for highly unbalanced segmentation">Boundary loss for highly unbalanced segmentation</a></li>
                <li>
                    <a href="#0-abstract" aria-label="0 Abstract">0 Abstract</a><ul>
                        
                <li>
                    <a href="#%e4%ba%a4%e5%8f%89%e7%86%b5" aria-label="äº¤å‰ç†µ">äº¤å‰ç†µ</a></li>
                <li>
                    <a href="#dice" aria-label="Dice">Dice</a></li></ul>
                </li>
                <li>
                    <a href="#2-formulation" aria-label="2. Formulation">2. Formulation</a></li>
                <li>
                    <a href="#experiment" aria-label="Experiment">Experiment</a></li>
                <li>
                    <a href="#%e6%80%bb%e7%bb%93" aria-label="æ€»ç»“">æ€»ç»“</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="boundary-loss-for-highly-unbalanced-segmentation">Boundary loss for highly unbalanced segmentation<a hidden class="anchor" aria-hidden="true" href="#boundary-loss-for-highly-unbalanced-segmentation">#</a></h2>
<blockquote>
<p>Csurka, G., Larlus, D., &amp; Perronnin, F. (2013). What is a good evaluation measure for semantic segmentation? <em>BMVC</em>.</p>
<p>(218 Citations.)</p>
</blockquote>
<blockquote>
<p>Kervadec, H., Bouchtiba, J., Desrosiers, C., Granger, Ã‰., Dolz, J., &amp; Ayed, I.B. (2019). Boundary loss for highly unbalanced segmentation. <em>Medical image analysis, 67</em>, 101851 .</p>
<p>(95 Citations)</p>
</blockquote>
<p><img loading="lazy" src="./20210530/1.png" alt=""  />
</p>
<ul>
<li>è®ºæ–‡ PDF : <a href="https://openreview.net/pdf?id=S1gTA5VggE">https://openreview.net/pdf?id=S1gTA5VggE</a> æˆ–è€…ï¼ˆ<a href="https://arxiv.org/pdf/1812.07032.pdf">https://arxiv.org/pdf/1812.07032.pdf</a>ï¼‰</li>
<li>æœŸåˆŠï¼šMedical Imaging with Deep Learning (MIDL 2019 Conference),  best paper award at MIDL 2019.</li>
<li>ä½œè€…çš„ Presentationï¼š<a href="https://www.bilibili.com/video/BV1U4411F76a">https://www.bilibili.com/video/BV1U4411F76a</a>ï¼ˆ3:29:00 å¼€å§‹ï¼‰</li>
<li>source codeï¼š<a href="https://github.com/LIVIAETS/boundary-loss/blob/master/losses.py">https://github.com/LIVIAETS/boundary-loss/blob/master/losses.py</a></li>
</ul>
<h2 id="0-abstract">0 Abstract<a hidden class="anchor" aria-hidden="true" href="#0-abstract">#</a></h2>
<p>Dice loss å’Œ cross-entropy è¿™ç§åŒºåŸŸæŸå¤±åœ¨ç±»åˆ«é«˜åº¦ä¸å¹³è¡¡çš„åˆ†å‰²ä»»åŠ¡ä¸­ï¼Œä¼šå½±å“åˆ°è®­ç»ƒæ€§èƒ½å’Œç¨³å®šæ€§ã€‚æœ¬ç¯‡è®ºæ–‡æå‡ºäº†ä¸€ç§<!-- raw HTML omitted -->è¾¹ç•ŒæŸå¤±ï¼ˆboundary lossï¼‰<!-- raw HTML omitted -->ï¼Œå…¶å½¢å¼æ˜¯è½®å»“ï¼ˆæˆ–å½¢çŠ¶ï¼‰ç©ºé—´ä¸Šçš„è·ç¦»åº¦é‡ï¼Œè€Œä¸æ˜¯åŒºåŸŸï¼Œ</p>
<ul>
<li>è¿™å¯ä»¥å‡è½»åœ¨é«˜åº¦ä¸å¹³è¡¡çš„åˆ†å‰²é—®é¢˜ä¸­åŒºåŸŸæŸå¤±çš„å›°éš¾ï¼›</li>
<li>æ­¤å¤–ï¼Œè¾¹ç•ŒæŸå¤±æä¾›çš„ä¿¡æ¯æ˜¯å¯¹åŒºåŸŸæŸå¤±çš„è¡¥å……ã€‚</li>
</ul>
<p>åœ¨è®¡ç®—æ—¶ï¼Œå°†å½¢çŠ¶ç©ºé—´ä¸Šçš„éå¯¹ç§° L2 è·ç¦»è¡¨è¾¾ä¸ºåŒºåŸŸç§¯åˆ†ï¼Œè¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªç”¨ç½‘ç»œçš„åŒºåŸŸ softmax æ¦‚ç‡è¾“å‡ºè¡¨ç¤ºçš„è¾¹ç•ŒæŸå¤±ï¼Œå®ƒå¯ä»¥å¾ˆå®¹æ˜“åœ°ä¸æ ‡å‡†çš„åŒºåŸŸæŸå¤±ç›¸ç»“åˆã€‚</p>
<p>åœ¨ the ischemic stroke lesion (ISLES) and white matter hyperintensities (WMH) è¿™ä¸¤ä¸ªé«˜åº¦ä¸å¹³è¡¡æ•°æ®é›†ä¸Šï¼ŒDice + boundary ç›¸æ¯”äºå•ç‹¬ä½¿ç”¨ Diceï¼Œå…¶ Dice score æå‡äº† 8%ã€‚</p>
<p>ğŸ’¢TODOï¼šçœ¼åº•è§†ç½‘è†œåˆ†å‰²æ•°æ®é›†ï¼ˆDRIVE/CHASE_DB1ï¼‰ï¼Œæˆ–è®¸ä¹Ÿå¯ä»¥å½’ä¸ºä¸å¹³è¡¡çš„æ•°æ®é›†ï¼Œä½¿ç”¨ Dice Loss + æœ¬ç¯‡è®ºæ–‡çš„ boundary loss æˆ–è®¸å¯ä»¥åœ¨åŸåŸºç¡€ä¹‹ä¸Šæå‡æœ€åçš„æ€§èƒ½ï¼Œå¯ä»¥ç®€å•è¯•ä¸€ä¸‹å®éªŒç»“æœã€‚</p>
<p>##1 Introduction</p>
<p>Dice or cross-entropy éƒ½åŸºäºåŸºäºåŒºåŸŸç§¯åˆ†ï¼ˆ<!-- raw HTML omitted -->regional integrals<!-- raw HTML omitted -->ï¼‰ï¼Œè¿™å¯¹è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œå¾ˆæ–¹ä¾¿ã€‚</p>
<p>æ ‡å‡†åŒºåŸŸæŸå¤±åŒ…å«å‰æ™¯å’ŒèƒŒæ™¯é¡¹ï¼Œå®ƒä»¬çš„å€¼æœ‰å¾ˆå¤§å·®å¼‚ï¼Œé€šå¸¸æ˜¯å‡ ä¸ªæ•°é‡çº§ï¼Œè¿™å¯èƒ½ä¼šå½±å“æ€§èƒ½å’Œè®­ç»ƒçš„ç¨³å®šæ€§ï¼Œè¿™åœ¨åŒ»å­¦å›¾åƒåˆ†æä¸­ç›¸å½“å¸¸è§ã€‚</p>
<p><img loading="lazy" src="./20210530/2.png" alt=""  />
</p>
<h3 id="äº¤å‰ç†µ">äº¤å‰ç†µ<a hidden class="anchor" aria-hidden="true" href="#äº¤å‰ç†µ">#</a></h3>
<p>åœ¨é«˜åº¦ä¸å¹³è¡¡çš„é—®é¢˜ä¸Šï¼Œæ ‡å‡†çš„åŒºåŸŸ äº¤å‰ç†µï¼ˆCEï¼‰æœ‰ä¼—æ‰€å‘¨çŸ¥çš„ç¼ºç‚¹ï¼š</p>
<ul>
<li>å®ƒå‡å®šæ‰€æœ‰æ ·æœ¬å’Œç±»åˆ«çš„é‡è¦æ€§åˆ†å¸ƒæ˜¯ç›¸åŒçš„ï¼›</li>
<li>CE é€šå¸¸ä¼šå¯¼è‡´ä¸ç¨³å®šçš„è®­ç»ƒï¼Œå¹¶å¯¼è‡´å†³ç­–è¾¹ç•Œåå‘äºå¤§å¤šæ•°ç±»åˆ«ã€‚</li>
</ul>
<p>å¸¸è§çš„ç¼“è§£ç±»åˆ«ä¸å¹³è¡¡ç­–ç•¥ï¼š</p>
<ul>
<li>re-balance class prior distributions by down-sampling frequent labels.</li>
<li>assign weights to the different classes, inversely proportional to the frequency of the corresponding labels.</li>
</ul>
<h3 id="dice">Dice<a hidden class="anchor" aria-hidden="true" href="#dice">#</a></h3>
<blockquote>
<p>Lee Raymond Dice å‘½å</p>
<p>VNet åº”ç”¨ Dice Loss</p>
</blockquote>
<p>Dice coefficient ç­‰åŒ <strong>F1 score</strong>ã€‚Dice Loss ä¸€ç§èƒ½å¤Ÿç›´æ¥ä½œç”¨äº F1 Score çš„æŸå¤±å‡½æ•°ã€‚</p>
<ul>
<li>åœ¨å¤„ç†éå¸¸å°çš„ç»“æ„æ—¶å¯èƒ½ä¼šé‡åˆ°å›°éš¾ï¼Œè®­ç»ƒä¸ç¨³å®šï¼›</li>
<li>Dice å¯¹åº”äºç²¾ç¡®åº¦å’Œå¬å›ç‡ä¹‹é—´çš„è°æ³¢å¹³å‡å€¼ï¼Œè¿™ç§æŸå¤±ä¸»è¦é€‚åˆäº FP å’Œ FN åŒæ ·ç³Ÿç³•çš„æ—¶å€™ã€‚</li>
</ul>
<p>ç›¸æ¯”äº Dice å­˜åœ¨çš„ç¼ºç‚¹ï¼ŒTversky ç›¸ä¼¼åº¦æŒ‡æ•°å¯ä»¥åœ¨ç²¾ç¡®åº¦å’Œå¬å›ç‡ä¹‹é—´æä¾›ä¸€ä¸ªæ›´å¥½çš„æƒè¡¡ã€‚</p>
<p>âœ… Dice loss æ¯”è¾ƒé€‚ç”¨äºæ ·æœ¬æåº¦ä¸å‡çš„æƒ…å†µï¼Œä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ Dice loss ä¼šå¯¹åå‘ä¼ æ’­é€ æˆä¸åˆ©çš„å½±å“ï¼Œå®¹æ˜“ä½¿è®­ç»ƒå˜å¾—ä¸ç¨³å®šã€‚</p>
<p>è®ºæ–‡è´¡çŒ®ï¼š</p>
<blockquote>
<p>In this paper, we propose a boundary loss that takes the form of <!-- raw HTML omitted -->a distance metric on the space of contours (or shapes), not regions<!-- raw HTML omitted -->.</p>
<p>We argue that a boundary loss can mitigate the issues related to regional losses in highly unbalanced segmentation problems. Rather than using unbalanced integrals over the regions, a boundary loss uses integrals over the boundary (interface) between the regions.</p>
<p>Furthermore, it provides information that is complimentary to regional losses.</p>
</blockquote>
<h2 id="2-formulation">2. Formulation<a hidden class="anchor" aria-hidden="true" href="#2-formulation">#</a></h2>
<p>å¯¹äºä¸¤ä¸ªåŒºåŸŸçš„æƒ…å†µï¼Œä¸€èˆ¬å½¢å¼çš„ç§¯åˆ†ï¼š</p>
<p><img loading="lazy" src="./20210530/4.png" alt=""  />
</p>
<p>$$f  = -log(\cdot)$$</p>
<p>å¹¿ä¹‰ Dice æŸå¤±ï¼ˆGDLï¼‰ï¼š</p>
<p><img loading="lazy" src="./20210530/3.png" alt=""  />
</p>
<ul>
<li>â„¦ è¡¨ç¤ºå…·æœ‰ç©ºé—´åŸŸçš„è®­ç»ƒå›¾åƒ</li>
<li>g è¡¨ç¤ºå¯¹å›¾åƒè¿›è¡ŒäºŒè¿›åˆ¶çš„ Ground Truth åˆ†å‰²ï¼Œg(p) = 1 è¡¨ç¤ºåƒç´  p å±äºç›®æ ‡åŒºåŸŸ GâŠ‚Î©ï¼ˆå‰æ™¯åŒºåŸŸï¼‰ï¼Œå¦åˆ™ä¸º 0 Î©\Gï¼ˆèƒŒæ™¯åŒºåŸŸï¼‰</li>
<li>$s_\theta$ è¡¨ç¤ºåˆ†å‰²ç½‘ç»œçš„ softmax æ¦‚ç‡è¾“å‡º</li>
</ul>
<p>å¹¿æ³›ä½¿ç”¨çš„åˆ†å‰²æŸå¤±å‡½æ•°æ¶‰åŠ Î© ä¸­æ¯ä¸ªåˆ†å‰²åŒºåŸŸçš„åŒºåŸŸç§¯åˆ†ï¼Œå®ƒè¡¡é‡ç½‘ç»œçš„æ¦‚ç‡è¾“å‡ºæ‰€å®šä¹‰çš„åŒºåŸŸä¸ç›¸åº”çš„åœ°é¢å®å†µä¹‹é—´çš„ä¸€äº›ç›¸ä¼¼æ€§ï¼ˆæˆ–é‡å ï¼‰ã€‚</p>
<p>åœ¨åŒ»å­¦å›¾åƒåˆ†æä¸­ï¼Œæä¸å¹³è¡¡çš„åˆ†å‰²éå¸¸å¸¸è§ï¼Œä¾‹å¦‚ï¼Œç›®æ ‡å‰æ™¯åŒºåŸŸçš„å¤§å°æ¯”èƒŒæ™¯å¤§å°å°å‡ ä¸ªæ•°é‡çº§ï¼Œå¦‚æ­¤ä¹‹å¤§çš„å·®å¼‚å½±å“äº†åˆ†å‰²çš„æ€§èƒ½å’Œè®­ç»ƒçš„ç¨³å®šæ€§ã€‚</p>
<p>Boundary Loss Dist($âˆ‚_G, âˆ‚_{S_\theta}$ )ï¼š$âˆ‚_G$ è¡¨ç¤ºåŒºåŸŸ G çš„ Ground Truth è¾¹ç•Œï¼Œ$âˆ‚_{S_Î¸}$è¡¨ç¤ºç”±ç½‘ç»œè¾“å‡ºå®šä¹‰çš„åˆ†å‰²åŒºåŸŸ G çš„è¾¹ç•Œã€‚</p>
<ul>
<li>ï¼ˆ1ï¼‰è¾¹ç•ŒæŸå¤±åº”è¯¥èƒ½å¤Ÿå‡è½»ä¸Šè¿°ä¸å¹³è¡¡åˆ†å‰²çš„å›°éš¾ï¼šå®ƒä½¿ç”¨åŒºåŸŸä¹‹é—´çš„è¾¹ç•Œçš„ç§¯åˆ†ã€‚æ­¤å¤–ï¼Œè¾¹ç•ŒæŸå¤±æä¾›çš„ä¿¡æ¯ä¸åŒºåŸŸæŸå¤±ä¸åŒï¼Œå› æ­¤æ˜¯è¡¥å……æ€§çš„ã€‚</li>
<li>ï¼ˆ2ï¼‰å¹¶ä¸æ¸…æ¥šå¦‚ä½•å°† $âˆ‚_{S_Î¸}$ ä¸Šçš„è¾¹ç•Œç‚¹è¡¨ç¤ºä¸ºåŒºåŸŸç½‘ç»œè¾“å‡º sÎ¸ çš„å¯å¾®è°ƒå‡½æ•°ã€‚ï¼ˆæˆ‘çš„ç†è§£æ˜¯ï¼šBoundary Loss å•ç‹¬ä½¿ç”¨å¹¶ä¸ workï¼Œæ— æ³•ä½¿ç”¨åå‘ä¼ æ’­æ›´æ–°ï¼‰</li>
</ul>
<p>æœ¬ç¯‡è®ºæ–‡æå‡ºçš„ Boundary Loss å¯å‘è‡ª discrete (graph-based) optimization techniques for computing gradient flows of curve evolution (Boykov et al., 2006). curve evolution methods  éœ€è¦ä¸€ä¸ªè¯„ä¼°è¾¹ç•Œå˜åŒ–ï¼ˆæˆ–å˜åŒ–ï¼‰çš„æªæ–½ã€‚</p>
<p>Boundary Loss Dist($âˆ‚_G, âˆ‚_{S_\theta}$ )ï¼šè¯„ä¼°ä¸¤ä¸ªé™„è¿‘è¾¹ç•Œ âˆ‚S å’Œ âˆ‚G ä¹‹é—´çš„å˜åŒ–ï¼ˆBoykov ç­‰äººï¼Œ2006ï¼‰ã€‚</p>
<blockquote>
<p>ğŸ’¢ä¸ºä»€ä¹ˆ (2) ä¸èƒ½ç›´æ¥ä½œä¸º Loss è¿›è¡Œä¼˜åŒ–ï¼Ÿç†è§£äº†è¿™ä¸ªå¾ˆé‡è¦ï¼</p>
</blockquote>
<p><img loading="lazy" src="./20210530/5.png" alt=""  />
</p>
<ul>
<li>pâˆˆÎ© æ˜¯è¾¹ç•Œ âˆ‚G ä¸Šçš„ä¸€ä¸ªç‚¹</li>
<li>yâˆ‚S(p) è¡¨ç¤ºè¾¹ç•Œ âˆ‚S ä¸Šçš„ç›¸åº”ç‚¹ï¼ˆæ³•çº¿æ–¹å‘äº¤ç‚¹ï¼‰ã€‚</li>
</ul>
<p><img loading="lazy" src="./20210530/6.png" alt=""  />
</p>
<p>å…¬å¼ (2) ä¸èƒ½ç›´æ¥ä½œä¸º âˆ‚S= âˆ‚SÎ¸ çš„æŸå¤±ï¼ï¼ï¼</p>
<p>âœ… å¾ˆå®¹æ˜“è¡¨æ˜ï¼Œ(2) ä¸­çš„å¾®åˆ†è¾¹ç•Œå˜åŒ–å¯ä»¥ç”¨ç§¯åˆ†æ–¹æ³•æ¥è¡¨è¾¾ (Boykov ç­‰äººï¼Œ2006)ï¼Œç§¯åˆ†æ–¹æ³•å®Œå…¨é¿å…äº†æ¶‰åŠè½®å»“ç‚¹çš„å±€éƒ¨å¾®åˆ†è®¡ç®—ï¼Œå¹¶å°†è¾¹ç•Œå˜åŒ–è¡¨ç¤ºä¸ºä¸€ä¸ªåŒºåŸŸç§¯åˆ†ã€‚å¾—åˆ°å…¬å¼ (3)ã€‚</p>
<blockquote>
<p>it is easy to show that the differential boundary variation in (2) can be expressed using an integral approach (Boykov et al., 2006), which avoids completely local differential computations involving contour points and represents boundary change as a regional integral:</p>
</blockquote>
<p><img loading="lazy" src="./20210530/7.png" alt=""  />
</p>
<p>å…¶ä¸­ï¼Œâˆ†S è¡¨ç¤ºä¸¤æ¡è½®å»“çº¿ä¹‹é—´çš„åŒºåŸŸï¼ŒDG : Î©â†’R+ æ˜¯ç›¸å¯¹äºè¾¹ç•Œ âˆ‚G çš„è·ç¦»å›¾ï¼Œå³ $D_G(q)$ è¯„ä¼°äº†ç‚¹ qâˆˆÎ© ä¸è½®å»“ âˆ‚G ä¸Šæœ€è¿‘çš„ç‚¹ $z_{âˆ‚G}(q)$ ä¹‹é—´çš„è·ç¦»ã€‚</p>
<p>å°† instance map $2D_{G}(q)$ åœ¨è¿æ¥ âˆ‚G ä¸Šçš„ç‚¹ p å’Œ $y_{âˆ‚S}(p)$ çš„æ³•çº¿æ®µä¸Šç§¯åˆ†ï¼Œå°±å¯ä»¥å¾—åˆ°ï¼š</p>
<p><img loading="lazy" src="./20210530/8.png" alt=""  />
</p>
<p>å› æ­¤ï¼Œä»å…¬å¼ï¼ˆ3ï¼‰æ¥çœ‹ï¼Œå…¬å¼ï¼ˆ2ï¼‰ä¸­è½®å»“çº¿ä¹‹é—´çš„éå¯¹ç§° L2 è·ç¦»å¯ä»¥è¡¨ç¤ºä¸ºåŸºäºè¾¹ç•Œ âˆ‚G çš„ level set è¡¨ç¤ºçš„åŒºåŸŸç§¯åˆ†ä¹‹å’Œã€‚</p>
<blockquote>
<p>â“ä»€ä¹ˆæ˜¯ level setï¼Ÿ</p>
</blockquote>
<p><img loading="lazy" src="./20210530/9.png" alt=""  />
</p>
<ul>
<li>s : Î©â†’{0,1} æ˜¯åŒºåŸŸ S çš„ binary indicator functionï¼Œå¦‚æœ qâˆˆS å±äºç›®æ ‡ï¼Œs(q)=1ï¼Œå¦åˆ™ä¸º 0ã€‚</li>
<li>$\phi_G$ : Î©â†’R è¡¨ç¤ºè¾¹ç•Œ âˆ‚G çš„ level set è¡¨ç¤ºï¼Œå¦‚æœ qâˆˆGï¼Œ$\phi_{G}(q)=-D_G(q)$ï¼Œå¦åˆ™ $\phi_G(q)=D_G(q)$ã€‚</li>
</ul>
<p>approximates boundary distance Dist(âˆ‚G,âˆ‚SÎ¸ ):</p>
<p><img loading="lazy" src="./20210530/10.png" alt=""  />
</p>
<p>å®¹æ˜“ä¸æ ‡å‡†çš„åŒºåŸŸæŸå¤±ç›¸ç»“åˆï¼š</p>
<p><img loading="lazy" src="./20210530/11.png" alt=""  />
</p>
<h2 id="experiment">Experiment<a hidden class="anchor" aria-hidden="true" href="#experiment">#</a></h2>
<p><img loading="lazy" src="./20210530/12.jpg" alt=""  />
</p>
<ul>
<li>Dice ç›¸ä¼¼ç³»æ•°ï¼ˆDice Similariy Coefficient,DSCï¼‰ï¼Œå–å€¼èŒƒå›´ [0, 1]ï¼Œ1 ä¸ºæœ€å¥½ï¼Œ0 ä¸ºæœ€å·®ã€‚</li>
<li>Hausdorff Distance è±ªæ–¯å¤šå¤«è·ç¦»ï¼šä»¥é›†åˆ A ä¸­ä»»ä¸€ç‚¹ï¼ŒåŠå¾„å– HD ç”»åœ†ï¼Œå¯ä»¥åŒ…å«é›†åˆ B çš„æ‰€æœ‰ç‚¹ã€‚</li>
</ul>
<blockquote>
<p>boundary loss term brings a DSC improvement of around 2% on the WMH dataset, it achieves 8% better DSC on the ISLES segmentation task.  The same trend is observed with the HD metric, where the gain is larger on the ISLES dataset than on WMH.</p>
</blockquote>
<p><img loading="lazy" src="./20210530/13.png" alt=""  />
</p>
<p>è¾¹ç•ŒæŸå¤±é¡¹æœ‰åŠ©äºç¨³å®šè®­ç»ƒè¿‡ç¨‹ï¼Œéšç€ç½‘ç»œè®­ç»ƒçš„æ”¶æ•›ï¼Œäº§ç”Ÿäº†ä¸€ä¸ª<strong>æ›´å¹³æ»‘</strong>çš„æ›²çº¿ã€‚Boundary Loss åªæ¶‰åŠä¸¤ä¸ªçŸ©é˜µä¹‹é—´çš„å…ƒç´ ç›¸ä¹˜ï¼Œæ‰€å¢åŠ çš„è®¡ç®—å¤æ‚åº¦å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p>
<p><img loading="lazy" src="./20210530/14.png" alt=""  />
</p>
<h2 id="æ€»ç»“">æ€»ç»“<a hidden class="anchor" aria-hidden="true" href="#æ€»ç»“">#</a></h2>
<p>â€¢å•ç‹¬ä½¿ç”¨ Boundary Loss ä¸ workï¼Œä¸€èˆ¬è¿›è¡Œä¸ Dice ç»„åˆä½¿ç”¨ã€‚</p>
<p>â€¢ç†è®ºä¸Šï¼Œè¾¹ç•ŒæŸå¤±çš„å…¨å±€æœ€ä¼˜å¯¹åº”äºä¸€ä¸ªè´Ÿå€¼ï¼Œå› ä¸ºä¸€ä¸ªå®Œç¾çš„é‡å åªå¯¹è·ç¦»å›¾çš„è´Ÿå€¼è¿›è¡Œæ±‚å’Œã€‚</p>
<p>â€¢è¾¹ç•ŒæŸå¤±é¡¹æœ‰åŠ©äºç¨³å®šè®­ç»ƒè¿‡ç¨‹ï¼Œéšç€ç½‘ç»œè®­ç»ƒçš„æ”¶æ•›ï¼Œäº§ç”Ÿäº†ä¸€ä¸ªæ›´å¹³æ»‘çš„æ›²çº¿</p>
<p>â€¢ä½¿ç”¨ Boundary Loss å¸¦æ¥çš„è®¡ç®—é‡å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p>
<p>â€¢åˆ©ç”¨äº† S å’Œ G ç©ºé—´ä¸Šçš„ä¸€äº›ä¿¡æ¯ï¼Œå¸¦æ¥äº†ä¸€å®šçš„æ€§èƒ½æå‡ã€‚</p>
<p>â€¢ä½œè€…åšå¾—å®éªŒå¤ªå°‘ï¼Œ Boundary Loss æ˜¯å¦èƒ½æ™®éæå‡ performance è¿˜éœ€è¦æ›´å¤šçš„å®éªŒéªŒè¯ã€‚</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://landodo.github.io/tags/%E5%88%86%E5%89%B2/">åˆ†å‰²</a></li>
      <li><a href="http://landodo.github.io/tags/cnn/">CNN</a></li>
      <li><a href="http://landodo.github.io/tags/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/">è®ºæ–‡é˜…è¯»</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://landodo.github.io/posts/20210620-deeplab-v1-v2/">
    <span class="title">Â« Prev Page</span>
    <br>
    <span>#DeepLab# ä¸­çš„ç©ºæ´å·ç§¯å’Œæ¡ä»¶éšæœºåœº</span>
  </a>
  <a class="next" href="http://landodo.github.io/posts/20210516-retinal-vesse-segmentation/">
    <span class="title">Next Page Â»</span>
    <br>
    <span>è§†ç½‘è†œè¡€ç®¡åˆ†å‰² Retinal vessel segmentation</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>Landon</span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>

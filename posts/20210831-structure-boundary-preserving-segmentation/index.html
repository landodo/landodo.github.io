<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script>
<meta name="robots" content="index, follow">
<title>Structure Boundary Preserving Segmentation for Medical Image with Ambiguous Boundary | Notes</title>
<meta name="keywords" content="论文阅读, 医学图像分割" />
<meta name="description" content="Structure Boundary Preserving Segmentation for Medical Image with Ambiguous Boundary 边界模糊医学图像的结构边界保持分割 简介 韩国一个大学的文章。 CVPR 2020 与医学图像分割有关 Cited by: 5 没有代码，没啥意思😭，想去看看它的">
<meta name="author" content="">
<link rel="canonical" href="http://landodo.github.io/posts/20210831-structure-boundary-preserving-segmentation/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<link rel="preload" href="./happy-cat.png" as="image">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js" integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://landodo.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://landodo.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://landodo.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://landodo.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="http://landodo.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Structure Boundary Preserving Segmentation for Medical Image with Ambiguous Boundary" />
<meta property="og:description" content="Structure Boundary Preserving Segmentation for Medical Image with Ambiguous Boundary 边界模糊医学图像的结构边界保持分割 简介 韩国一个大学的文章。 CVPR 2020 与医学图像分割有关 Cited by: 5 没有代码，没啥意思😭，想去看看它的" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://landodo.github.io/posts/20210831-structure-boundary-preserving-segmentation/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-31T10:03:43&#43;08:00" />
<meta property="article:modified_time" content="2021-08-31T10:03:43&#43;08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Structure Boundary Preserving Segmentation for Medical Image with Ambiguous Boundary"/>
<meta name="twitter:description" content="Structure Boundary Preserving Segmentation for Medical Image with Ambiguous Boundary 边界模糊医学图像的结构边界保持分割 简介 韩国一个大学的文章。 CVPR 2020 与医学图像分割有关 Cited by: 5 没有代码，没啥意思😭，想去看看它的"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://landodo.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Structure Boundary Preserving Segmentation for Medical Image with Ambiguous Boundary",
      "item": "http://landodo.github.io/posts/20210831-structure-boundary-preserving-segmentation/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Structure Boundary Preserving Segmentation for Medical Image with Ambiguous Boundary",
  "name": "Structure Boundary Preserving Segmentation for Medical Image with Ambiguous Boundary",
  "description": "Structure Boundary Preserving Segmentation for Medical Image with Ambiguous Boundary 边界模糊医学图像的结构边界保持分割 简介 韩国一个大学的文章。 CVPR 2020 与医学图像分割有关 Cited by: 5 没有代码，没啥意思😭，想去看看它的",
  "keywords": [
    "论文阅读", "医学图像分割"
  ],
  "articleBody": "Structure Boundary Preserving Segmentation for Medical Image\nwith Ambiguous Boundary\n边界模糊医学图像的结构边界保持分割\n简介 韩国一个大学的文章。\n CVPR 2020 与医学图像分割有关 Cited by: 5 没有代码，没啥意思😭，想去看看它的一些细节！  摘要 医学图像分割存在两个关键性问题：\n 医学图像域结构边界的模糊 没有专业领域知识的细分领域的不确定性。  为了解决这两个问题，提出保存边界的分割框架（boundary preserving segmentation framework）。\n 边界关键点选择算法 边界保留模块（BPB）  提出了一种新型的形状边界感知评价器（SBE），它具有专家指出的地面真实结构信息。SBE 可以根据结构边界关键点向分割网络提供反馈。\nIntroduction 本论文主要解决如下两个问题：\n 大多数医学图像由于较低的图像分辨率和模糊的纹理，而存在边界模糊问题。不同于自然图像中的对象，医学图像由于分辨率较低，可能没有明显的构造边界。 在没有专家知识的情况下，很难自动预测正确的目标区域  提出了一个新型的全自动医学图像分割框架，保留目标区域的结构边界。\n 边界点选择算法：自动选择最适合目标区域的关键点，这些点放置于目标对象的结构边界上； 边界保留块（BPB）：将点编码到网络中，进一步利用结构边界信息； Shape Boundary-aware Evaluator(SBE)：将专家知识嵌入分割模型；  在训练阶段：它试图利用关键图来评估分割图中有多少结构边界得到了很好的保存； 根据专家标注的 Ground truth，将预测区域反馈给分割网络。    任何分割模型都可以融合 BPB 和 SBE 来更精确的分割目标区域。\n论文的贡献总结如下：\n Boundaries key point selection algorithm SEB：将分割图与边界关键点图是否重合反馈给分割网络。 SOTA  Boundary Key Point Selection Algorithm 首先使用传统的边缘检测算法从 ground truth 分割图中得到目标物体的边界，随机选择 n 个点；然后依次连接 n 个点构造边界区域。为了获得 ground truth 的边界关键点图，测量边界区域之间的重叠区域的数量，通过 IoU 得到 ground-truth 的分割图。\n最后，选择使得 IOU 值最大的边界点作为结构边界关键点。\n为什么需要 4 个 BPB。\n论文有 4 个关键点：\n（1）Boundary Key Point Selection Algorithm\n（2）Boundary Preserving Block (BPB)\n（3）Boundary Key Point Map Generator\n（4）Shape Boundary-aware Evaluator (SBE)\nExperimental Results 在两个医学图像分割数据集上进行验证，\n PH2 + ISBI 2016 dataset：皮肤病灶分割 Transvaginal Ultrasound (TVUS) dataset：子宫内膜分割   什么是传统的边界检测算法（conventional edge detection algorithm）？\n我觉得作者应该是从标注的 Mask 获取到边界，不然的话整张图像的边界点太多了。\nA computational approach to edge detection.\n Canny, J. (1986). A Computational Approach to Edge Detection. IEEE Transactions on Pattern Analysis and Machine Intelligence, PAMI-8, 679-698.\nCited by: 38734（这惊人的引用量，ResNet 也就 3K）\n 彩色图像转为灰度图像的计算公式，RGB2Gray\n$$Gray = R \\times 0.299 + G \\times 0.587 + B \\times 0.114$$\nmatlab rgb2gray 0.299 * R + 0.587 * G + 0.114 * B 没有想到边缘检测（Edge Detection）也是一个很有意思的方向\n 一个开放的数据集（检索）下载地址：https://gas.graviti.com/open-datasets\nhttps://gas.graviti.cn/open-datasets\n  YOLOP：这是第一个可以在嵌入式设备 Jetson TX2上以 23 FPS 速度实时同时处理目标检测/可行驶区域分割和车道线检测这三个视觉感知任务并保持出色精度的工作。\n NVIDIA Pascal™ GPU 架构配有 256 个 NVIDIA® CUDA® 核心和高达 8GB 的内存。\n我可以考虑在这个嵌入式设备上部署 YOLOP。师兄的这个应该是 NVIDIA® Jetson Nano™，https://www.nvidia.cn/autonomous-machines/embedded-systems/jetson-nano/education-projects/。我下载了它的文档。\nYOLOP 可以同时完成 3 个任务： traffic object detection（交通目标检测）、 drivable area segmentation（可驾驶区域分割）和 lane detection（车道检测）。\n 本周看 YOLO 系列的论文，并且做好笔记！\n问题一：怎么知道物体的中心落在 grid cell 中？如何计算物体的中心？\n😘 中心点其实非常好求，去看看源代码，主要去看怎么处理 label 的那部分。\ncenter_x= (bbox[0]+bbox[2])*0.5 center_y= (bbox[1]+bbox[3])*0.5 https://zhuanlan.zhihu.com/p/183261974\n非极大值抑制，抑制的是与之重合的框。具体操作如下：\n 网络输出很多的预测框，选择置信度最高的框，肯定包含目标，其作为第一个框； 利用 IoU，把与第一个框重合的其他框抑制掉； 剩下还没有被抑制掉的框，取置信度最高的，得到第二个框；抑制重合框； 剩下的没有被抑制的框，取最高，得到第三个框，抑制重合框； ……直到没有剩下的框，结束。  多目标检测时，使用非极大值抑制。\nYOLOv1 输出为 shape=$7 \\times 7 \\times 30$。所以标签 label 的 shape 应该为 [batch, 7, 7, 30]。\nlabel 和 output 的 size 为：[batch_size, 7, 7, 30]。每个 output[bi, wi, hi] 是一个 30 维向量。\nYOLOv1 的检测头就是最好的 2 个全连接层，参数量很大，存在很大的改进空间。YOLOv1 一共预测 49 个目标，一共 98 个框。\nYOLOv2 归一化后的预测值为一个很小的偏移量，有利于神经网络的学习，并且使用偏移量会使得训练过程更加稳定。\nAnchor 是从数据集中统计得到的。\n什么是 DarkNet？\n答：这是 YOLO 作者自己写的一个深度学习框架。\nYOLOv3，3 个分支，32 倍下采样（大目标）、16 倍下采样、8 倍下采样（小目标）。\nLoss = 定位损失 + 置信度损失 + 分类损失\n什么是 geo_loss？\ngeo_loss + confidence_loss + class_loss。\n为什么 Head 变得越来越复杂了？\n答：因为特征提取网络变强了，能够支撑检测头做更加复杂的操作。\n可视化模型：https://netron.app/\n深入浅出Yolo系列之Yolov3\u0026Yolov4\u0026Yolov5\u0026Yolox核心基础知识完整讲解：https://zhuanlan.zhihu.com/p/143747206\nyolo系列之yolo v3【深度解析】：https://blog.csdn.net/leviopku/article/details/82660381\n目标检测难的地方在于 pipeline 很长，细节很多，“the devil is in the detail”。\nYOLO 复现还得看大厂写的代码：https://github.com/Tencent/ObjectDetection-OneStageDet\n可以看看 DarkNet 的源码实现！\n1.5K 的解读，有非常多的中文注释：https://github.com/hgpvision/darknet\n17.2K，在官方的基础上添加了很多的新特性、新算法，新 backbone，是最流行的目标检测开源项目之一：https://github.com/AlexeyAB/darknet\n21.3K（作者源码）：https://github.com/pjreddie/darknet\n",
  "wordCount" : "2572",
  "inLanguage": "en",
  "datePublished": "2021-08-31T10:03:43+08:00",
  "dateModified": "2021-08-31T10:03:43+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://landodo.github.io/posts/20210831-structure-boundary-preserving-segmentation/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Notes",
    "logo": {
      "@type": "ImageObject",
      "url": "http://landodo.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://landodo.github.io/" accesskey="h" title="Notes (Alt + H)">
                <img src="http://landodo.github.io/happy-cat.png" alt="logo" aria-label="logo"
                    height="30">Notes</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://landodo.github.io/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/tags" title="Tag">
                    <span>Tag</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/cs-zoo" title="CS ZOO">
                    <span>CS ZOO</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://landodo.github.io/">Home</a>&nbsp;»&nbsp;<a href="http://landodo.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      Structure Boundary Preserving Segmentation for Medical Image with Ambiguous Boundary
    </h1>
    <div class="post-meta"><span title='2021-08-31 10:03:43 +0800 CST'>August 31, 2021</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;2572 words

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e7%ae%80%e4%bb%8b" aria-label="简介">简介</a></li>
                <li>
                    <a href="#%e6%91%98%e8%a6%81" aria-label="摘要">摘要</a></li>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#boundary-key-point-selection-algorithm" aria-label="Boundary Key Point Selection Algorithm">Boundary Key Point Selection Algorithm</a></li>
                <li>
                    <a href="#experimental-results" aria-label="Experimental Results">Experimental Results</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>Structure Boundary Preserving Segmentation for Medical Image</p>
<p>with Ambiguous Boundary</p>
<p><strong>边界</strong>模糊医学图像的结构边界保持分割</p>
<h2 id="简介">简介<a hidden class="anchor" aria-hidden="true" href="#简介">#</a></h2>
<p>韩国一个大学的文章。</p>
<ul>
<li>CVPR 2020</li>
<li>与医学图像分割有关</li>
<li>Cited by: 5</li>
<li>没有代码，没啥意思😭，想去看看它的一些细节！</li>
</ul>
<h2 id="摘要">摘要<a hidden class="anchor" aria-hidden="true" href="#摘要">#</a></h2>
<p>医学图像分割存在两个关键性问题：</p>
<ol>
<li>医学图像域结构边界的模糊</li>
<li>没有专业领域知识的细分领域的不确定性。</li>
</ol>
<p>为了解决这两个问题，提出保存边界的分割框架（boundary preserving segmentation framework）。</p>
<ul>
<li>边界关键点选择算法</li>
<li>边界保留模块（BPB）</li>
</ul>
<p>提出了一种新型的形状边界感知评价器（SBE），它具有专家指出的地面真实结构信息。SBE 可以<strong>根据结构边界关键点向分割网络提供反馈</strong>。</p>
<h2 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h2>
<p>本论文主要解决如下两个问题：</p>
<ol>
<li>大多数医学图像由于较低的图像分辨率和模糊的纹理，而存在<strong>边界模糊问题</strong>。不同于自然图像中的对象，医学图像由于分辨率较低，可能没有明显的构造边界。</li>
<li>在没有专家知识的情况下，很难<strong>自动</strong>预测正确的目标区域</li>
</ol>
<p>提出了一个新型的全自动医学图像分割框架，保留目标区域的结构边界。</p>
<ul>
<li><strong>边界点选择算法</strong>：自动选择最适合目标区域的关键点，这些点放置于目标对象的结构边界上；</li>
<li>边界保留块（BPB）：将点编码到网络中，进一步利用结构边界信息；</li>
<li>Shape Boundary-aware Evaluator(SBE)：将专家知识嵌入分割模型；
<ul>
<li>在训练阶段：它试图利用关键图来评估分割图中有多少结构边界得到了很好的保存；</li>
<li>根据专家标注的 Ground truth，将预测区域反馈给分割网络。</li>
</ul>
</li>
</ul>
<p>任何分割模型都可以融合 BPB 和 SBE 来更精确的分割目标区域。</p>
<p>论文的贡献总结如下：</p>
<ul>
<li>Boundaries key point selection algorithm</li>
<li>SEB：将分割图与边界关键点图是否重合反馈给分割网络。</li>
<li>SOTA</li>
</ul>
<h2 id="boundary-key-point-selection-algorithm">Boundary Key Point Selection Algorithm<a hidden class="anchor" aria-hidden="true" href="#boundary-key-point-selection-algorithm">#</a></h2>
<p>首先使用传统的边缘检测算法从 ground truth 分割图中得到目标物体的边界，随机选择 n 个点；然后依次连接 n 个点构造边界区域。为了获得 ground truth 的边界关键点图，测量边界区域之间的重叠区域的数量，通过 IoU 得到 ground-truth 的分割图。</p>
<p>最后，选择使得 IOU 值最大的边界点作为结构边界关键点。</p>
<p>为什么需要 4 个 BPB。</p>
<p>论文有 4 个关键点：</p>
<p>（1）Boundary Key Point Selection Algorithm</p>
<p>（2）Boundary Preserving Block (BPB)</p>
<p>（3）Boundary Key Point Map Generator</p>
<p>（4）Shape Boundary-aware Evaluator (SBE)</p>
<p><img loading="lazy" src="./20210831/1.png" alt=""  />
</p>
<h2 id="experimental-results">Experimental Results<a hidden class="anchor" aria-hidden="true" href="#experimental-results">#</a></h2>
<p>在两个医学图像分割数据集上进行验证，</p>
<ul>
<li>PH2 + ISBI 2016 dataset：皮肤病灶分割</li>
<li>Transvaginal Ultrasound (TVUS) dataset：子宫内膜分割</li>
</ul>
<hr>
<p>什么是传统的边界检测算法（conventional edge detection algorithm）？</p>
<p>我觉得作者应该是从标注的 Mask 获取到边界，不然的话整张图像的边界点太多了。</p>
<p>A computational approach to edge detection.</p>
<blockquote>
<p>Canny, J. (1986). A Computational Approach to Edge Detection. <em>IEEE Transactions on Pattern Analysis and Machine Intelligence, PAMI-8</em>, 679-698.</p>
<p>Cited by: 38734（这惊人的引用量，ResNet 也就 3K）</p>
</blockquote>
<p>彩色图像转为灰度图像的计算公式，RGB2Gray</p>
<p>$$Gray = R \times 0.299 + G \times 0.587 + B \times 0.114$$</p>
<pre tabindex="0"><code>matlab
rgb2gray
0.299 * R + 0.587 * G + 0.114 * B
</code></pre><p>没有想到边缘检测（Edge Detection）也是一个很有意思的方向</p>
<hr>
<p>一个开放的数据集（检索）下载地址：https://gas.graviti.com/open-datasets</p>
<p><img loading="lazy" src="./20210831/2.png" alt=""  />
</p>
<p><a href="https://gas.graviti.cn/open-datasets">https://gas.graviti.cn/open-datasets</a></p>
<hr>
<blockquote>
<p>YOLOP：这是第一个可以在嵌入式设备 Jetson TX2上以 <strong>23 FPS 速度</strong>实时同时处理目标检测/可行驶区域分割和车道线检测这三个视觉感知任务并保持出色精度的工作。</p>
</blockquote>
<p>NVIDIA Pascal™ GPU 架构配有 256 个 NVIDIA® CUDA® 核心和高达 8GB 的内存。</p>
<p>我可以考虑在这个嵌入式设备上部署 YOLOP。师兄的这个应该是 NVIDIA® Jetson Nano™，https://www.nvidia.cn/autonomous-machines/embedded-systems/jetson-nano/education-projects/。我下载了它的文档。</p>
<p>YOLOP 可以同时完成 3 个任务： traffic object detection（交通目标检测）、 drivable area segmentation（可驾驶区域分割）和 lane detection（车道检测）。</p>
<hr>
<p>本周看 YOLO 系列的论文，并且做好笔记！</p>
<p>问题一：怎么知道物体的中心落在 grid cell 中？如何计算物体的中心？</p>
<p>😘 中心点其实非常好求，去看看源代码，主要去看怎么处理 label 的那部分。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python3" data-lang="python3"><span style="display:flex;"><span>center_x<span style="color:#f92672">=</span> (bbox[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span>bbox[<span style="color:#ae81ff">2</span>])<span style="color:#f92672">*</span><span style="color:#ae81ff">0.5</span>
</span></span><span style="display:flex;"><span>center_y<span style="color:#f92672">=</span> (bbox[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span>bbox[<span style="color:#ae81ff">3</span>])<span style="color:#f92672">*</span><span style="color:#ae81ff">0.5</span>
</span></span></code></pre></div><p><a href="https://zhuanlan.zhihu.com/p/183261974">https://zhuanlan.zhihu.com/p/183261974</a></p>
<p>非极大值抑制，抑制的是与之重合的框。具体操作如下：</p>
<ol>
<li>网络输出很多的预测框，选择置信度最高的框，肯定包含目标，其作为<strong>第一个框</strong>；</li>
<li>利用 IoU，把与第一个框重合的其他框抑制掉；</li>
<li>剩下还没有被抑制掉的框，取置信度最高的，得到<strong>第二个框</strong>；抑制重合框；</li>
<li>剩下的没有被抑制的框，取最高，得到第三个框，抑制重合框；</li>
<li>……直到没有剩下的框，结束。</li>
</ol>
<p>多目标检测时，使用非极大值抑制。</p>
<p>YOLOv1 输出为 shape=$7 \times 7 \times 30$。所以标签 label 的 shape 应该为 <code>[batch, 7, 7, 30]</code>。</p>
<p>label 和 output 的 size 为：[batch_size, 7, 7, 30]。每个 output[bi, wi, hi] 是一个 30 维向量。</p>
<p>YOLOv1 的检测头就是最好的 2 个全连接层，参数量很大，存在很大的改进空间。YOLOv1 一共预测 49 个目标，一共 98 个框。</p>
<p>YOLOv2 归一化后的预测值为一个很小的偏移量，有利于神经网络的学习，并且使用偏移量会使得训练过程更加稳定。</p>
<p>Anchor 是从数据集中统计得到的。</p>
<p>什么是 DarkNet？</p>
<p>答：这是 YOLO 作者自己写的一个深度学习框架。</p>
<p>YOLOv3，3 个分支，32 倍下采样（大目标）、16 倍下采样、8 倍下采样（小目标）。</p>
<p><img loading="lazy" src="./20210831/3.png" alt=""  />
</p>
<p>Loss = 定位损失 + 置信度损失 + 分类损失</p>
<p>什么是 geo_loss？</p>
<p>geo_loss + confidence_loss + class_loss。</p>
<p><img loading="lazy" src="./20210831/4.jpg" alt=""  />
</p>
<p>为什么 Head 变得越来越复杂了？</p>
<p>答：因为特征提取网络变强了，能够支撑检测头做更加复杂的操作。</p>
<p>可视化模型：https://netron.app/</p>
<p>深入浅出Yolo系列之Yolov3&amp;Yolov4&amp;Yolov5&amp;Yolox核心基础知识完整讲解：https://zhuanlan.zhihu.com/p/143747206</p>
<p>yolo系列之yolo v3【深度解析】：https://blog.csdn.net/leviopku/article/details/82660381</p>
<p>目标检测难的地方在于 pipeline 很长，细节很多，“the devil is in the detail”。</p>
<p>YOLO 复现还得看大厂写的代码：https://github.com/Tencent/ObjectDetection-OneStageDet</p>
<p>可以看看 DarkNet 的源码实现！</p>
<p>1.5K 的解读，有非常多的中文注释：https://github.com/hgpvision/darknet</p>
<p>17.2K，在官方的基础上添加了很多的新特性、新算法，新 backbone，是最流行的目标检测开源项目之一：https://github.com/AlexeyAB/darknet</p>
<p>21.3K（作者源码）：https://github.com/pjreddie/darknet</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://landodo.github.io/tags/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/">论文阅读</a></li>
      <li><a href="http://landodo.github.io/tags/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E5%89%B2/">医学图像分割</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://landodo.github.io/posts/20210912-rapid-vessel-segmentation/">
    <span class="title">« Prev Page</span>
    <br>
    <span>Rapid vessel segmentation and reconstruction of head and neck angiograms using 3D convolutional neural network.</span>
  </a>
  <a class="next" href="http://landodo.github.io/posts/20210827-focal-loss/">
    <span class="title">Next Page »</span>
    <br>
    <span>Focal Loss for Dense Object Detection</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>Landon</span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>

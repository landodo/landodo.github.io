<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<meta name="robots" content="index, follow">
<title>3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation | Landodo&#39;s NoteBook</title>
<meta name="keywords" content="è®ºæ–‡é˜…è¯», åŒ»å­¦å›¾åƒåˆ†å‰²" />
<meta name="description" content="3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation #ç»“ç›´è‚ ç™Œåˆ†å‰²ğŸ“Œ Cited by: 18 Publish Year: 2020 Published in: IEEE Transactions on Cybernetics åœ°å€ï¼šhttps://ieeexplore.ieee.org/document/">
<meta name="author" content="">
<link rel="canonical" href="http://landodo.github.io/posts/20210924-3d-roi-aware-u-net/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js" integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://landodo.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://landodo.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://landodo.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://landodo.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="http://landodo.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation" />
<meta property="og:description" content="3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation #ç»“ç›´è‚ ç™Œåˆ†å‰²ğŸ“Œ Cited by: 18 Publish Year: 2020 Published in: IEEE Transactions on Cybernetics åœ°å€ï¼šhttps://ieeexplore.ieee.org/document/" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://landodo.github.io/posts/20210924-3d-roi-aware-u-net/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-24T09:14:09&#43;08:00" />
<meta property="article:modified_time" content="2021-09-24T09:14:09&#43;08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation"/>
<meta name="twitter:description" content="3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation #ç»“ç›´è‚ ç™Œåˆ†å‰²ğŸ“Œ Cited by: 18 Publish Year: 2020 Published in: IEEE Transactions on Cybernetics åœ°å€ï¼šhttps://ieeexplore.ieee.org/document/"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://landodo.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation",
      "item": "http://landodo.github.io/posts/20210924-3d-roi-aware-u-net/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation",
  "name": "3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation",
  "description": "3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation #ç»“ç›´è‚ ç™Œåˆ†å‰²ğŸ“Œ Cited by: 18 Publish Year: 2020 Published in: IEEE Transactions on Cybernetics åœ°å€ï¼šhttps://ieeexplore.ieee.org/document/",
  "keywords": [
    "è®ºæ–‡é˜…è¯»", "åŒ»å­¦å›¾åƒåˆ†å‰²"
  ],
  "articleBody": "3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation #ç»“ç›´è‚ ç™Œåˆ†å‰²ğŸ“Œ\n  Cited by: 18\n  Publish Year: 2020\n  Published in: IEEE Transactions on Cybernetics\n  åœ°å€ï¼šhttps://ieeexplore.ieee.org/document/9052757\n  Codeï¼šhttps://github.com/huangyjhust/3D-RU-Net\n  0. Abstract åŸºäºæ·±åº¦å­¦ä¹ çš„æ–¹æ³•åœ¨ 3D å›¾åƒåˆ†å‰²ä»»åŠ¡ä¸­æä¾›äº†ä¸€ä¸ªè‰¯å¥½çš„ baselineï¼Œä½†æ˜¯ç”±äºå†…å­˜çš„é™åˆ¶ï¼Œè¾ƒå°çš„ patch é™åˆ¶äº†æœ‰æ•ˆçš„æ„Ÿå—é‡ï¼Œå½±å“åˆ†å‰²æ€§èƒ½ã€‚\nå°† RoI å®šä½ä½œä¸ºå‰é¡¹æ“ä½œï¼Œåœ¨é€Ÿåº¦ã€ç›®æ ‡å®Œæ•´æ€§ã€å‡å°‘å‡é˜³æ€§ï¼ˆFNï¼‰ç­‰æ–¹é¢å…·æœ‰å¤šé‡ä¼˜åŠ¿ã€‚æœ¬ç¯‡è®ºæ–‡ï¼š\n  æå‡ºäº†ä¸€ç§==å¤šä»»åŠ¡æ¡†æ¶ï¼ˆ3D RoI-aware U-Netï¼‰==ï¼Œç”¨äº ROI å®šä½å’ŒåŒºåŸŸåˆ†å‰²ï¼›\n  è®¾è®¡äº†ä¸€ä¸ª==åŸºäº Dice çš„æŸå¤±å‡½æ•°ï¼ˆMHLï¼‰==ï¼Œç”¨äºä»å…¨å±€ï¼ˆRoI å®šä½ï¼‰åˆ°å±€éƒ¨ï¼ˆåŒºåŸŸå†…åˆ†å‰²ï¼‰çš„å¤šä»»åŠ¡å­¦ä¹ è¿‡ç¨‹ã€‚\n  åœ¨ 64 ä¾‹ç™Œç—‡ç—…ä¾‹ä¸Šè¿›è¡Œå®éªŒï¼Œç»“æœè¡¨æ˜ï¼Œè¯¥æ–¹æ³•æ˜æ˜¾ä¼˜äºä¼ ç»Ÿçš„æ–¹æ³•ï¼Œå…·æœ‰è¾ƒå¼ºçš„æ³›åŒ–æ€§ã€æ‹“å±•æ½œåŠ›ï¼Œå¯ç”¨äºåŒ»å­¦å›¾åƒçš„å…¶ä»– 3D ç›®æ ‡åˆ†å‰²ä»»åŠ¡ã€‚\n1. Introduction åŸºäºæ·±åº¦å­¦ä¹ çš„æ–¹æ³•åœ¨åŒ»å­¦å›¾åƒæ£€æµ‹å’Œåˆ†å‰²é¢†åŸŸå¤„äºé¢†å…ˆåœ°ä½ï¼Œç„¶è€Œï¼Œä¾æ—§é¢ä¸´ç€è®¸å¤šæŒ‘æˆ˜ï¼šå¼ºåº¦ç‰¹å¼‚æ€§å¼±ã€ç¼ºä¹å½¢çŠ¶ç‰¹å¾ã€ç¼ºä¹ä½ç½®å…ˆéªŒã€ç±»åˆ«ä¸å¹³è¡¡ï¼Œä»¥åŠåœ¨è¾ƒå·®çš„ GPU/CPU-only ä¸Šçš„å¤„ç†æ—¶é—´è¿‡é•¿ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œpatch å¤§å°å—é™äº GPU æ˜¾å­˜ï¼Œæ‰©å¤§æ„Ÿå—é‡å’Œå‡å°‘é™é‡‡æ ·è¿‡ç¨‹ç»†ç²’åº¦ä¸¢å¤±æ˜¯ä¸€ä¸ªè‡³å…³é‡è¦çš„é—®é¢˜ã€‚\nâœ…åœ¨åŒ»å­¦åº”ç”¨ä¸­ï¼Œç”±äºç›®æ ‡å’ŒèƒŒæ™¯é«˜åº¦ç›¸å…³ï¼Œå› æ­¤==å…¨å±€ç†è§£==ç”šè‡³æ›´ä¸ºé‡è¦ã€‚\nğŸš©æœ¬ç¯‡è®ºæ–‡è´¡çŒ®æ€»ç»“å¦‚ä¸‹ï¼š\n  æå‡ºä¸€ç§æ–°çš„è”åˆ RoI å®šä½-åˆ†å‰²æ¡†æ¶ï¼ˆ3D RoI-aware U-Netï¼‰ï¼Œå…·æœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼šfast RoI localizationï¼›target completenessï¼› large effective receptive fieldï¼›easy-to-trainï¼›detail-preservingï¼›end-to-endï¼›volume-to-volume segmentationã€‚\n  è®¾è®¡çš„æ··åˆæŸå¤±å‡½æ•°ï¼ˆDice formulated global-to-local multi-task hybrid loss, MHLï¼‰å¸®åŠ©ç½‘ç»œæ—¢å¤„ç†å¤§ä½“ç§¯çš„å°ç›®æ ‡ï¼Œåˆä¸“æ³¨äºå‡†ç¡®è¯†åˆ«å±€éƒ¨ RoI ä¸­çš„è¾¹ç•Œã€‚\n  é€šè¿‡å®éªŒéªŒè¯äº†æ‰€æå‡ºçš„æ¡†æ¶çš„æœ‰æ•ˆæ€§ã€é€šç”¨æ€§ï¼›\n  2. Related Work ç°æœ‰çš„ 3D å›¾åƒç—…å˜æ£€æµ‹å’Œåˆ†å‰²æ–¹æ³•ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºï¼šåŸºäºå±€éƒ¨çš„æ¨¡å‹ï¼ˆpart based modelsï¼‰å’Œ non-joint localization-segmentation based methodsã€‚\n  part basedï¼šFCNã€V-Netï¼Œæœ‰æ•ˆæ„Ÿå—é‡æœ‰é™ã€‚\n  non-joint localization-segmentation basedï¼šRoI å®šä½æ¨¡å—ä½œä¸ºç‹¬ç«‹çš„éƒ¨åˆ†ï¼Œå¤–éƒ¨æ¨¡å— Selective Searchã€Multiscale Combinatorial Groupingã€FPN æå–å€™é€‰åŒºåŸŸï¼›\n  ä¸Šè¿°ä¸¤ç§æ–¹å¼å­˜åœ¨çš„é—®é¢˜ï¼šä½¿ç”¨åŸºäº patch çš„åˆ†å‰²æ— æ³•è§£å†³æ„Ÿå—é‡æœ‰é™çš„é—®é¢˜ï¼›ä½¿ç”¨ç‹¬ç«‹çš„å¤–éƒ¨æ¨¡å—è¿›è¡Œå€™é€‰åŒºåŸŸçš„æå–ï¼Œå†ç‹¬ç«‹çš„ FCN è¿›è¡Œ RoI åˆ†å‰²æ—¶ï¼Œæ— æ³•å…±äº«ç‰¹å¾ã€‚\nè”åˆ RoI å®šä½-åˆ†å‰²æ¨¡å‹æ˜¯ä¸€ç§å¾ˆæœ‰å‰æ™¯çš„å‘å±•ï¼Œå…±äº« backbone æ¥å®ç°åŒºåŸŸå€™é€‰ã€åŒºåŸŸåˆ†ç±»å’ŒåŒºåŸŸå†…åˆ†å‰²ï¼Œæ¶ˆé™¤äº†å†—ä½™ç‰¹å¾æå–ã€‚\n  Multi-task Network Cascades\n  Mask R-CNN: FPN\n  ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜ï¼š\n V-Netï¼šDice loss Deep Contour-aware Network Multilevel Contextual 3D CNNs DeepMedic â€¦  3. Methodology 3D RU-Net ç»“æ„å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚\n  å°†æ•´ä¸ª image volumes è¾“å…¥ ==Global Image Encoder==ï¼Œè¿›è¡Œå¤šå±‚æ¬¡ç¼–ç ï¼›\n  é‡‡ç”¨ç¼–ç å™¨ä¸“ç”¨çš„ ==RoI locator== è¿›è¡Œ RoI å®šä½ï¼›\n  åˆ©ç”¨ ==RoI Pyramid Layer== ä»å¤šå°ºåº¦ç‰¹å¾å›¾ä¸­è£å‰ªåŒºåŸŸå†…ç‰¹å¾å¼ é‡ï¼Œè·å¾—å¤šå°ºåº¦çš„ RoI åŒºåŸŸï¼Œå›¾ä¸­ç§°ä¸º RoI Tensor Pyramid $(f^I, f^{II}, f^{III})$ï¼›\n  è®¾è®¡ä¸€ä¸ª ==Local Region Decoder== æ¥è¿›è¡Œå¤šçº§ç‰¹å¾èåˆï¼Œç”¨äºé«˜åˆ†è¾¨ç‡ç™Œç—‡ç—…ç¶åˆ†å‰²ã€‚\n  3.1 Main Modules ï¼ˆ1ï¼‰Global Image Encoder\nè°¨æ…è®¾è®¡ 3D backbone feature extractor ä»¥é¿å… GPU å†…å­˜æº¢å‡ºå’Œè¿‡æ‹Ÿåˆã€‚æ„å»ºä¸€ä¸ªç´§å‡‘çš„ä»…æœ‰ç¼–ç å™¨çš„ç½‘ç»œï¼Œåä¸º Global Image Encoderï¼Œç”¨äºå¤„ç† whole volume imagesã€‚\nResBlocks + MaxPooling å †å ã€‚\nResidual Block:\n 3 convolutional layer 3 Instance Normalization (batch size = 1) 3 ReLU Skip Connection  ï¼ˆ2ï¼‰RoI Locator\nRoI Locator æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œä»¥ç‰¹å¾å›¾ $F^{III}$ ä½œä¸ºè¾“å…¥ï¼Œå¾—åˆ° $Bbox^{III}$ è¾“å‡ºã€‚ä»»ä½•é‡‡ç”¨çº¯ç¼–ç éª¨å¹²çš„ç›®æ ‡æ£€æµ‹æ–¹æ³•éƒ½å¯ä»¥è¢«é‡‡ç”¨ã€‚\nç”±äºæ•°é‡æœ‰é™çš„è®­ç»ƒæ ·æœ¬çš„é•¿å®½æ¯”å¤šæ ·æ€§ï¼Œå­¦ä¹ å‡†ç¡®çš„è¾¹ç•Œæ¡†å¯èƒ½æ˜¯å›°éš¾çš„ï¼Œå»ºè®®å……åˆ†åˆ©ç”¨å¯ç”¨çš„ä½“ç´ çº§æ©ç ã€‚ä¸ºäº†è§£å†³å‰æ™¯ä¸èƒŒæ™¯æ¯”ä¾‹æä¸å¹³è¡¡çš„é—®é¢˜ï¼Œé‡‡ç”¨åŸºäº Dice çš„æŸå¤±æ¥è®­ç»ƒ ROI Locatorã€‚\nè¿›è¡Œå¿«é€Ÿçš„ä¸‰ç»´è¿é€šæ€§åˆ†æï¼ˆFast 3D connectivity analysisï¼‰è®¡ç®—å‡ºæ‰€éœ€çš„ Bounding Boxï¼ˆ$Bbox^{III}$ï¼‰ã€‚\nğŸ“Œ**ï¼ˆ3ï¼‰==RoI Pyramid Layer==**\nä»æ¯ä¸ªç‰¹å¾å°ºåº¦æå–ä¸€ç»„å¤šå±‚æ¬¡çš„ç‰¹å¾å¼ é‡ï¼Œå……åˆ†åˆ©ç”¨å¤šå°ºåº¦ç‰¹å¾ã€‚\nä¸ºäº†æå–æ£€æµ‹ç›®æ ‡çš„ RoI Tensor Pyramidï¼Œé¦–å…ˆä»(2) RoI Locator è®¡ç®—å¾—åˆ°çš„è¾¹ç•Œæ¡†ï¼ˆBounding boxï¼‰$Bbox^{III}=(z^3, y^3, x^3, d^3, h^3, w^3)$ ï¼Œå…¬å¼(1)æ„å»º Bounding Box Pyramid $(Bbox^{I}, Bbox^{II}, Bbox^{III})$ã€‚\n $(s_{z}^{i}, s_{y}^{i}, s_{x}^{i})$ è¡¨ç¤º $MaxPooling^{i}$ çš„ strideï¼›  å¾—åˆ°äº† Bounding Box Pyramid $(Bbox^{I}, Bbox^{II}, Bbox^{III})$ åï¼Œä» $F^{I},F^{II}, F^{III}$ ä¸­è£å‰ªå‡º RoI Tensor Pyramid $(f^I, f^{II}, f^{III})$ã€‚\nï¼ˆ4ï¼‰Local Region Decoder\nå¾—åˆ°äº† RoI Tensor Pyramid $(f^I, f^{II}, f^{III})$ ä¹‹åï¼Œæ„å»ºä¸€ä¸ªåä¸º Local Region Decoder çš„åŒºåŸŸå†…åˆ†å‰²ç½‘ç»œï¼Œè¿™ä¸ªç½‘ç»œèåˆäº†å¤šå°ºåº¦çš„ç‰¹å¾ã€‚\n3.2 Loss Function design æ–‡ç« çš„å¦ä¸€ä¸ªæ ¸å¿ƒç‚¹åœ¨äº ==Dice-based Multi-task Hybrid Loss Function (MHL)== çš„è®¾è®¡ã€‚\nä¸Šå›¾çš„ç½‘ç»œç»“æ„å±äºå¤šä»»åŠ¡å­¦ä¹ ï¼ˆLocalization + Segmentationï¼‰ï¼ŒGlobal Image Encoder ä¸»è¦é¢ä¸´ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜ï¼›è€Œ Local Region Decoder åˆ™æ˜¯ç›®æ ‡åŒºåŸŸçš„ç²¾ç¡®è¾¹ç•Œåˆ†å‰²é—®é¢˜ã€‚\nï¼ˆ1ï¼‰Dice Loss\n N voxels $p_i \\in P$ ï¼špredicted volume $g_i \\in G$ï¼šground truth volume $\\epsilon = 10^{-4}$ ï¼šå¹³æ»‘å‚æ•°  ï¼ˆ2ï¼‰Dice Loss for Global Localization\n $P_{global}$ and $G_{global}$ denotes predictions of the localization top and down-sampled annotations.  â“è¿™ä¸ªæˆ‘ä¸å¤ªæ˜ç™½ã€‚æˆ‘çš„ç†è§£æ˜¯ä¸åŒçš„æ£€æµ‹æ–¹æ³•ï¼Œè¿™æ˜¯åªæ˜¯æä¾›äº†ä¸€ä¸ªèŒƒå¼ã€‚    ï¼ˆ3ï¼‰Dice-based Contour-aware Loss for Local Segmentation\n Contour è¡¨ç¤ºè¾¹è½®å»“ã€‚ï¼ˆ3D ç©ºé—´ä¸­è½®å»“æ ‡ç­¾çš„æç«¯ç¨€ç–æ€§ï¼‰ï¼› åœ¨åˆ†å‰²çš„è¾“å‡ºç«¯å¢åŠ ä¸€ä¸ªé¢å¤–çš„ç”± Sigmoid æ¿€æ´»çš„ 1 Ã— 1 Ã— 1 å·ç§¯å±‚æ¥é¢„æµ‹è½®å»“ä½“ç´ ï¼Œå¹¶ä¸åŒºåŸŸåˆ†å‰²ä»»åŠ¡å¹¶è¡Œè®­ç»ƒï¼› $\\lambda_c = 0.5$ï¼Œè¾…åŠ©ä»»åŠ¡çš„æƒé‡ï¼Œç¡®ä¿åŒºåŸŸåˆ†å‰²ä»»åŠ¡å ä¸»å¯¼åœ°ä½ã€‚  === æœ€åå¾—åˆ°æ€»çš„æŸå¤±å‡½æ•°ï¼ŒDice-based Multi-task Hybrid Loss Function (MHL)ï¼š\n $\\beta = 10^{-4}$  3.3 å¤šæ„Ÿå—é‡æ¨¡å‹é›†æˆ æœ¬æ–‡æå‡ºé‡‡ç”¨å¤šæ„Ÿå—é‡æ¨¡å‹é›†æˆç­–ç•¥ï¼Œèåˆç»“æ„ç›¸åŒä½†æ„Ÿå—é‡è®¾ç½®ä¸åŒçš„æ¨¡å‹ã€‚å¦‚ä¸‹å›¾ï¼Œå°†ä¸‰ä¸ªç½‘ç»œçš„è¾“å‡ºå–å¹³å‡ï¼Œç”Ÿæˆæœ€ç»ˆçš„é¢„æµ‹ã€‚\nä¸åŒæ„Ÿå—é‡æ¨¡å‹ï¼Œå®ç°çš„æ–¹æ³•æ˜¯æ§åˆ¶ç©ºæ´å·ç§¯çš„ dilation rateã€‚ä¸‹è¡¨æ„Ÿå—é‡ä¸º 26 Ã— 64 Ã— 64 ä¸ºåŸå§‹çš„ 3D R-U-Netï¼Œè®°ä¸º 3D RU-Net-RF-64ã€‚\n4. Experiments 4.1 æ•°æ®é›†å’Œé¢„å¤„ç† 64 ä¾‹ MRI å›¾åƒï¼ŒT2 æ¨¡æ€ã€‚ç›®æ ‡åŒºåŸŸç”±ç»éªŒä¸°å¯Œçš„æ”¾å°„ç§‘åŒ»ç”Ÿè¿›è¡Œæ ‡æ³¨ï¼Œä¸€ä¸ª 3D å›¾åƒé€šå¸¸æœ‰ä¸€åˆ°ä¸¤ä¸ªå«æœ‰ç™Œç»„ç»‡çš„ RoIã€‚ç™Œç»„ç»‡è½®å»“æ ‡ç­¾ contour labels were automatically generated from the region labels of one-voxel thickness using erosion and subtraction operations.\ncrop é»‘è¾¹ã€é‡é‡‡æ · 4.0 Ã— 2.0 Ã— 2.0 mmã€å¼ºåº¦å½’ä¸€åŒ–ã€‚\nä¸‹å›¾æ˜¯å½’ä¸€åŒ–ï¼ˆintensity-normalizedï¼‰çš„æ•ˆæœã€‚\n4.2 å®ç°ç»†èŠ‚ ç½‘ç»œç»“æ„å¦‚ Table 1 æ‰€ç¤ºã€‚\n Optimizer: Adam batch size = 1 è¾“å…¥çš„ shape = ï¼Ÿ learning rate: 10e-4 L2 norm: 10e-4 å…ˆè®­ç»ƒ RoI Locatorï¼Œç›´åˆ°è¯„ä¼° Loss ä¸åœ¨é™ä½ï¼› å†è”åˆè®­ç»ƒ RoI Locator å’Œåˆ†å‰²åˆ†æ”¯ã€‚è”åˆè®­ç»ƒè¿‡ç¨‹çš„ Loss æ¥è‡ª RoI Locator + SegHead1 + SegHead2ã€‚  è¯„ä¼°æŒ‡æ ‡ï¼šDice Similarity Coefficient (DSC)ã€Voxel-wise Recall Rateã€Average Symmetric Surface Distance (ASD)ã€‚\n2 å— NVIDIA Titan(12 GB GPU memory)\n4.3 å®éªŒç»“æœ Table 2ï¼ˆæ¶ˆèå­¦ä¹ ï¼‰ã€Figure 5ã€Figure 6\nï¼ˆ1ï¼‰ï¼ˆ2ï¼‰5. Discussion ç›¸æ¯”äºä¼ ç»Ÿçš„ Encoder-Decoder åœ¨æ¯ä¸ªè·¯å¾„ä¸Šå„èŠ±è´¹ 50%ï¼Œæœ¬æ–‡é€šè¿‡æ„å»º Local Region Decoderï¼ŒGPU å¯ä»¥å°†å…¶ 90% çš„ GPU å†…å­˜åˆ†é…ç»™ Encoderï¼Œä»¥å¤„ç†æ›´å¤§çš„è¾“å…¥ä½“ç§¯ï¼Œåªåœ¨åˆ†å‰²é˜¶æ®µèŠ±è´¹ 10% çš„å†…å­˜ã€‚å› æ­¤ï¼Œå¯ä»¥å¤„ç†çš„ä½“ç§¯å¤§å°è¢«å¤§å¤§çš„æ‰©å¤§äº†ï¼ï¼ˆæœ‰å‡ ç‡ä¸ç”¨é¢„å…ˆåˆ‡ Patch äº†ï¼‰\næå‡ºçš„æ–¹æ³•çš„å±€é™æ€§ï¼š\n  æ¨¡å‹ç»å¸¸æ··æ·†å“ªä¸ªåˆ‡ç‰‡å¼€å§‹æˆ–ç»“æŸï¼Œè¿™å¯¹å¾—åˆ†çš„å½±å“è¾ƒå¤§ï¼ˆFigure 6ï¼‰\n   è¿™ä¸ªå›°éš¾æ˜¯ä¸æ•°æ®ç›¸å…³çš„ï¼Œç”±äºç™Œç»„ç»‡è¾¹ç•Œçš„å¯¹æ¯”åº¦è¾ƒå¼±ï¼Œæ²¿ Z è½´çš„åˆ†è¾¨ç‡è¾ƒä½ï¼Œå¼€å§‹å’Œç»“æŸåˆ‡ç‰‡æŒ‡æ•°çš„å†³å®šå¯èƒ½å–å†³äºè§‚å¯Ÿè€…ã€‚\n     æ²¡æœ‰è¿›è¡Œå®ä¾‹åˆ†å‰²ç›¸å…³çš„æ¢ç´¢  Conclusion  æå‡ºäº†è”åˆ RoI localization-segmentation-based æ¡†æ¶ï¼ˆ3D RoI-aware U-Netï¼‰ï¼› å¼ºè°ƒäº†å°† RoI å®šä½å’ŒåŒºåŸŸå†…åˆ†å‰²ç»“åˆ==å…¨å±€ç¼–ç ç‰¹å¾==çš„é‡è¦æ€§å’Œæœ‰æ•ˆæ€§ï¼› æå‡ºå¤šä»»åŠ¡æ··åˆæŸå¤±(MHL)æ¥å¹³æ»‘è®­ç»ƒè¿‡ç¨‹ï¼› å®éªŒç»“æœè¡¨æ˜ï¼Œè¯¥æ–¹æ³•åœ¨é€Ÿåº¦å’Œå‡†ç¡®æ€§æ–¹æ³•å…·æœ‰è¾ƒå¤§ä¼˜åŠ¿ï¼› åŸåˆ™ä¸Šï¼Œæ­¤æ¡†æ¶å…·æœ‰è‰¯å¥½çš„å¯æ‹“å±•æ€§ï¼Œå¯ä»¥ç”¨äºå…¶ä»–åŒ»å­¦å›¾åƒåˆ†å‰²ä»»åŠ¡ã€‚  ",
  "wordCount" : "2963",
  "inLanguage": "en",
  "datePublished": "2021-09-24T09:14:09+08:00",
  "dateModified": "2021-09-24T09:14:09+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://landodo.github.io/posts/20210924-3d-roi-aware-u-net/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Landodo's NoteBook",
    "logo": {
      "@type": "ImageObject",
      "url": "http://landodo.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://landodo.github.io/" accesskey="h" title="Landodo&#39;s NoteBook (Alt + H)">Landodo&#39;s NoteBook</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://landodo.github.io/search" title="ğŸ”Search (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”Search</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/tags" title="Tag">
                    <span>Tag</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://landodo.github.io/cs-zoo" title="CS ZOO">
                    <span>CS ZOO</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://landodo.github.io/">Home</a>&nbsp;Â»&nbsp;<a href="http://landodo.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation
    </h1>
    <div class="post-meta"><span title='2021-09-24 09:14:09 +0800 CST'>September 24, 2021</span>&nbsp;Â·&nbsp;6 min&nbsp;Â·&nbsp;2963 words

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#3d-roi-aware-u-net-for-accurate-and-efficient-colorectal-tumor-segmentation" aria-label="3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation">3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation</a></li>
                <li>
                    <a href="#0-abstract" aria-label="0. Abstract">0. Abstract</a></li>
                <li>
                    <a href="#1-introduction" aria-label="1. Introduction">1. Introduction</a></li>
                <li>
                    <a href="#2-related-work" aria-label="2. Related Work">2. Related Work</a></li>
                <li>
                    <a href="#3-methodology" aria-label="3. Methodology">3. Methodology</a><ul>
                        
                <li>
                    <a href="#31-main-modules" aria-label="3.1 Main Modules">3.1 Main Modules</a></li>
                <li>
                    <a href="#32-loss-function-design" aria-label="3.2 Loss Function design">3.2 Loss Function design</a></li>
                <li>
                    <a href="#33-%e5%a4%9a%e6%84%9f%e5%8f%97%e9%87%8e%e6%a8%a1%e5%9e%8b%e9%9b%86%e6%88%90" aria-label="3.3 å¤šæ„Ÿå—é‡æ¨¡å‹é›†æˆ">3.3 å¤šæ„Ÿå—é‡æ¨¡å‹é›†æˆ</a></li></ul>
                </li>
                <li>
                    <a href="#4-experiments" aria-label="4. Experiments">4. Experiments</a><ul>
                        
                <li>
                    <a href="#41-%e6%95%b0%e6%8d%ae%e9%9b%86%e5%92%8c%e9%a2%84%e5%a4%84%e7%90%86" aria-label="4.1 æ•°æ®é›†å’Œé¢„å¤„ç†">4.1 æ•°æ®é›†å’Œé¢„å¤„ç†</a></li>
                <li>
                    <a href="#42-%e5%ae%9e%e7%8e%b0%e7%bb%86%e8%8a%82" aria-label="4.2 å®ç°ç»†èŠ‚">4.2 å®ç°ç»†èŠ‚</a></li>
                <li>
                    <a href="#43-%e5%ae%9e%e9%aa%8c%e7%bb%93%e6%9e%9c" aria-label="4.3 å®éªŒç»“æœ">4.3 å®éªŒç»“æœ</a></li></ul>
                </li>
                <li>
                    <a href="#5-discussion" aria-label="5. Discussion">5. Discussion</a></li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="3d-roi-aware-u-net-for-accurate-and-efficient-colorectal-tumor-segmentation">3D RoI-aware U-Net for Accurate and Efficient Colorectal Tumor Segmentation<a hidden class="anchor" aria-hidden="true" href="#3d-roi-aware-u-net-for-accurate-and-efficient-colorectal-tumor-segmentation">#</a></h2>
<p>#ç»“ç›´è‚ ç™Œåˆ†å‰²ğŸ“Œ</p>
<ul>
<li>
<p><strong>Cited by:</strong> 18</p>
</li>
<li>
<p><strong>Publish Year:</strong> 2020</p>
</li>
<li>
<p><strong>Published in:</strong> IEEE Transactions on Cybernetics</p>
</li>
<li>
<p>åœ°å€ï¼šhttps://ieeexplore.ieee.org/document/9052757</p>
</li>
<li>
<p>Codeï¼šhttps://github.com/huangyjhust/3D-RU-Net</p>
</li>
</ul>
<h2 id="0-abstract">0. Abstract<a hidden class="anchor" aria-hidden="true" href="#0-abstract">#</a></h2>
<p>åŸºäºæ·±åº¦å­¦ä¹ çš„æ–¹æ³•åœ¨ 3D å›¾åƒåˆ†å‰²ä»»åŠ¡ä¸­æä¾›äº†ä¸€ä¸ªè‰¯å¥½çš„ baselineï¼Œä½†æ˜¯ç”±äºå†…å­˜çš„é™åˆ¶ï¼Œè¾ƒå°çš„ patch é™åˆ¶äº†æœ‰æ•ˆçš„æ„Ÿå—é‡ï¼Œå½±å“åˆ†å‰²æ€§èƒ½ã€‚</p>
<p>å°† RoI å®šä½ä½œä¸ºå‰é¡¹æ“ä½œï¼Œåœ¨é€Ÿåº¦ã€ç›®æ ‡å®Œæ•´æ€§ã€å‡å°‘å‡é˜³æ€§ï¼ˆFNï¼‰ç­‰æ–¹é¢å…·æœ‰å¤šé‡ä¼˜åŠ¿ã€‚æœ¬ç¯‡è®ºæ–‡ï¼š</p>
<ul>
<li>
<p>æå‡ºäº†ä¸€ç§==å¤šä»»åŠ¡æ¡†æ¶ï¼ˆ3D RoI-aware U-Netï¼‰==ï¼Œç”¨äº ROI å®šä½å’ŒåŒºåŸŸåˆ†å‰²ï¼›</p>
</li>
<li>
<p>è®¾è®¡äº†ä¸€ä¸ª==åŸºäº Dice çš„æŸå¤±å‡½æ•°ï¼ˆMHLï¼‰==ï¼Œç”¨äºä»å…¨å±€ï¼ˆRoI å®šä½ï¼‰åˆ°å±€éƒ¨ï¼ˆåŒºåŸŸå†…åˆ†å‰²ï¼‰çš„å¤šä»»åŠ¡å­¦ä¹ è¿‡ç¨‹ã€‚</p>
</li>
</ul>
<p>åœ¨ 64 ä¾‹ç™Œç—‡ç—…ä¾‹ä¸Šè¿›è¡Œå®éªŒï¼Œç»“æœè¡¨æ˜ï¼Œè¯¥æ–¹æ³•æ˜æ˜¾ä¼˜äºä¼ ç»Ÿçš„æ–¹æ³•ï¼Œå…·æœ‰è¾ƒå¼ºçš„æ³›åŒ–æ€§ã€æ‹“å±•æ½œåŠ›ï¼Œå¯ç”¨äºåŒ»å­¦å›¾åƒçš„å…¶ä»– 3D ç›®æ ‡åˆ†å‰²ä»»åŠ¡ã€‚</p>
<h2 id="1-introduction">1. Introduction<a hidden class="anchor" aria-hidden="true" href="#1-introduction">#</a></h2>
<p>åŸºäºæ·±åº¦å­¦ä¹ çš„æ–¹æ³•åœ¨åŒ»å­¦å›¾åƒæ£€æµ‹å’Œåˆ†å‰²é¢†åŸŸå¤„äºé¢†å…ˆåœ°ä½ï¼Œç„¶è€Œï¼Œä¾æ—§é¢ä¸´ç€è®¸å¤šæŒ‘æˆ˜ï¼šå¼ºåº¦ç‰¹å¼‚æ€§å¼±ã€ç¼ºä¹å½¢çŠ¶ç‰¹å¾ã€ç¼ºä¹ä½ç½®å…ˆéªŒã€ç±»åˆ«ä¸å¹³è¡¡ï¼Œä»¥åŠåœ¨è¾ƒå·®çš„ GPU/CPU-only ä¸Šçš„å¤„ç†æ—¶é—´è¿‡é•¿ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œpatch å¤§å°å—é™äº GPU æ˜¾å­˜ï¼Œæ‰©å¤§æ„Ÿå—é‡å’Œå‡å°‘é™é‡‡æ ·è¿‡ç¨‹ç»†ç²’åº¦ä¸¢å¤±æ˜¯ä¸€ä¸ªè‡³å…³é‡è¦çš„é—®é¢˜ã€‚</p>
<p>âœ…åœ¨åŒ»å­¦åº”ç”¨ä¸­ï¼Œç”±äºç›®æ ‡å’ŒèƒŒæ™¯é«˜åº¦ç›¸å…³ï¼Œå› æ­¤==å…¨å±€ç†è§£==ç”šè‡³æ›´ä¸ºé‡è¦ã€‚</p>
<p>ğŸš©æœ¬ç¯‡è®ºæ–‡è´¡çŒ®æ€»ç»“å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>æå‡ºä¸€ç§æ–°çš„è”åˆ RoI å®šä½-åˆ†å‰²æ¡†æ¶ï¼ˆ3D RoI-aware U-Netï¼‰ï¼Œå…·æœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼šfast RoI localizationï¼›target completenessï¼› large effective receptive fieldï¼›easy-to-trainï¼›detail-preservingï¼›end-to-endï¼›volume-to-volume segmentationã€‚</p>
</li>
<li>
<p>è®¾è®¡çš„æ··åˆæŸå¤±å‡½æ•°ï¼ˆDice formulated global-to-local multi-task hybrid loss, MHLï¼‰å¸®åŠ©ç½‘ç»œæ—¢å¤„ç†å¤§ä½“ç§¯çš„å°ç›®æ ‡ï¼Œåˆä¸“æ³¨äºå‡†ç¡®è¯†åˆ«å±€éƒ¨ RoI ä¸­çš„è¾¹ç•Œã€‚</p>
</li>
<li>
<p>é€šè¿‡å®éªŒéªŒè¯äº†æ‰€æå‡ºçš„æ¡†æ¶çš„æœ‰æ•ˆæ€§ã€é€šç”¨æ€§ï¼›</p>
</li>
</ol>
<h2 id="2-related-work">2. Related Work<a hidden class="anchor" aria-hidden="true" href="#2-related-work">#</a></h2>
<p>ç°æœ‰çš„ 3D å›¾åƒç—…å˜æ£€æµ‹å’Œåˆ†å‰²æ–¹æ³•ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºï¼šåŸºäºå±€éƒ¨çš„æ¨¡å‹ï¼ˆpart based modelsï¼‰å’Œ non-joint localization-segmentation based methodsã€‚</p>
<ul>
<li>
<p>part basedï¼šFCNã€V-Netï¼Œæœ‰æ•ˆæ„Ÿå—é‡æœ‰é™ã€‚</p>
</li>
<li>
<p>non-joint localization-segmentation basedï¼šRoI å®šä½æ¨¡å—ä½œä¸ºç‹¬ç«‹çš„éƒ¨åˆ†ï¼Œå¤–éƒ¨æ¨¡å— Selective Searchã€Multiscale Combinatorial Groupingã€FPN æå–å€™é€‰åŒºåŸŸï¼›</p>
</li>
</ul>
<p>ä¸Šè¿°ä¸¤ç§æ–¹å¼å­˜åœ¨çš„é—®é¢˜ï¼šä½¿ç”¨åŸºäº patch çš„åˆ†å‰²æ— æ³•è§£å†³æ„Ÿå—é‡æœ‰é™çš„é—®é¢˜ï¼›ä½¿ç”¨ç‹¬ç«‹çš„å¤–éƒ¨æ¨¡å—è¿›è¡Œå€™é€‰åŒºåŸŸçš„æå–ï¼Œå†ç‹¬ç«‹çš„ FCN è¿›è¡Œ RoI åˆ†å‰²æ—¶ï¼Œæ— æ³•å…±äº«ç‰¹å¾ã€‚</p>
<p>è”åˆ RoI å®šä½-åˆ†å‰²æ¨¡å‹æ˜¯ä¸€ç§å¾ˆæœ‰å‰æ™¯çš„å‘å±•ï¼Œå…±äº« backbone æ¥å®ç°åŒºåŸŸå€™é€‰ã€åŒºåŸŸåˆ†ç±»å’ŒåŒºåŸŸå†…åˆ†å‰²ï¼Œæ¶ˆé™¤äº†å†—ä½™ç‰¹å¾æå–ã€‚</p>
<ul>
<li>
<p>Multi-task Network Cascades</p>
</li>
<li>
<p>Mask R-CNN: FPN</p>
</li>
</ul>
<p>ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜ï¼š</p>
<ul>
<li>V-Netï¼šDice loss</li>
<li>Deep Contour-aware Network</li>
<li>Multilevel Contextual 3D CNNs</li>
<li>DeepMedic</li>
<li>&hellip;</li>
</ul>
<h2 id="3-methodology">3. Methodology<a hidden class="anchor" aria-hidden="true" href="#3-methodology">#</a></h2>
<p><img loading="lazy" src="./20210924/1.png" alt=""  />
</p>
<p>3D RU-Net ç»“æ„å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</p>
<ul>
<li>
<p>å°†æ•´ä¸ª image volumes è¾“å…¥ ==Global Image Encoder==ï¼Œè¿›è¡Œå¤šå±‚æ¬¡ç¼–ç ï¼›</p>
</li>
<li>
<p>é‡‡ç”¨ç¼–ç å™¨ä¸“ç”¨çš„ ==RoI locator== è¿›è¡Œ RoI å®šä½ï¼›</p>
</li>
<li>
<p>åˆ©ç”¨ ==RoI Pyramid Layer== ä»å¤šå°ºåº¦ç‰¹å¾å›¾ä¸­è£å‰ªåŒºåŸŸå†…ç‰¹å¾å¼ é‡ï¼Œè·å¾—å¤šå°ºåº¦çš„ RoI åŒºåŸŸï¼Œå›¾ä¸­ç§°ä¸º RoI Tensor Pyramid $(f^I, f^{II}, f^{III})$ï¼›</p>
</li>
<li>
<p>è®¾è®¡ä¸€ä¸ª ==Local Region Decoder== æ¥è¿›è¡Œå¤šçº§ç‰¹å¾èåˆï¼Œç”¨äºé«˜åˆ†è¾¨ç‡ç™Œç—‡ç—…ç¶åˆ†å‰²ã€‚</p>
</li>
</ul>
<h3 id="31-main-modules">3.1 Main Modules<a hidden class="anchor" aria-hidden="true" href="#31-main-modules">#</a></h3>
<p><strong>ï¼ˆ1ï¼‰Global Image Encoder</strong></p>
<p>è°¨æ…è®¾è®¡ 3D backbone feature extractor ä»¥é¿å… GPU å†…å­˜æº¢å‡ºå’Œè¿‡æ‹Ÿåˆã€‚æ„å»ºä¸€ä¸ªç´§å‡‘çš„ä»…æœ‰ç¼–ç å™¨çš„ç½‘ç»œï¼Œåä¸º Global Image Encoderï¼Œç”¨äºå¤„ç† whole volume imagesã€‚</p>
<p>ResBlocks + MaxPooling å †å ã€‚</p>
<p>Residual Block:</p>
<ul>
<li>3 convolutional layer</li>
<li>3 Instance Normalization (batch size = 1)</li>
<li>3 ReLU</li>
<li>Skip Connection</li>
</ul>
<p><strong>ï¼ˆ2ï¼‰RoI Locator</strong></p>
<p>RoI Locator æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œä»¥ç‰¹å¾å›¾ $F^{III}$ ä½œä¸ºè¾“å…¥ï¼Œå¾—åˆ° $Bbox^{III}$ è¾“å‡ºã€‚ä»»ä½•é‡‡ç”¨çº¯ç¼–ç éª¨å¹²çš„ç›®æ ‡æ£€æµ‹æ–¹æ³•éƒ½å¯ä»¥è¢«é‡‡ç”¨ã€‚</p>
<p>ç”±äºæ•°é‡æœ‰é™çš„è®­ç»ƒæ ·æœ¬çš„é•¿å®½æ¯”å¤šæ ·æ€§ï¼Œå­¦ä¹ å‡†ç¡®çš„è¾¹ç•Œæ¡†å¯èƒ½æ˜¯å›°éš¾çš„ï¼Œå»ºè®®å……åˆ†åˆ©ç”¨å¯ç”¨çš„ä½“ç´ çº§æ©ç ã€‚ä¸ºäº†è§£å†³å‰æ™¯ä¸èƒŒæ™¯æ¯”ä¾‹æä¸å¹³è¡¡çš„é—®é¢˜ï¼Œé‡‡ç”¨åŸºäº Dice çš„æŸå¤±æ¥è®­ç»ƒ ROI Locatorã€‚</p>
<p>è¿›è¡Œå¿«é€Ÿçš„ä¸‰ç»´è¿é€šæ€§åˆ†æï¼ˆFast 3D connectivity analysisï¼‰è®¡ç®—å‡ºæ‰€éœ€çš„ Bounding Boxï¼ˆ$Bbox^{III}$ï¼‰ã€‚</p>
<p>ğŸ“Œ**ï¼ˆ3ï¼‰==RoI Pyramid Layer==**</p>
<p>ä»æ¯ä¸ªç‰¹å¾å°ºåº¦æå–ä¸€ç»„å¤šå±‚æ¬¡çš„ç‰¹å¾å¼ é‡ï¼Œå……åˆ†åˆ©ç”¨å¤šå°ºåº¦ç‰¹å¾ã€‚</p>
<p>ä¸ºäº†æå–æ£€æµ‹ç›®æ ‡çš„ RoI Tensor Pyramidï¼Œé¦–å…ˆä»(2) RoI Locator è®¡ç®—å¾—åˆ°çš„è¾¹ç•Œæ¡†ï¼ˆBounding boxï¼‰$Bbox^{III}=(z^3, y^3, x^3, d^3, h^3, w^3)$ ï¼Œå…¬å¼(1)æ„å»º Bounding Box Pyramid $(Bbox^{I}, Bbox^{II}, Bbox^{III})$ã€‚</p>
<p><img loading="lazy" src="./20210924/2.png" alt=""  />
</p>
<ul>
<li>$(s_{z}^{i}, s_{y}^{i}, s_{x}^{i})$ è¡¨ç¤º $MaxPooling^{i}$ çš„ strideï¼›</li>
</ul>
<p>å¾—åˆ°äº† Bounding Box Pyramid $(Bbox^{I}, Bbox^{II}, Bbox^{III})$ åï¼Œä» $F^{I},F^{II}, F^{III}$ ä¸­è£å‰ªå‡º RoI Tensor Pyramid $(f^I, f^{II}, f^{III})$ã€‚</p>
<p><strong>ï¼ˆ4ï¼‰Local Region Decoder</strong></p>
<p>å¾—åˆ°äº† RoI Tensor Pyramid $(f^I, f^{II}, f^{III})$ ä¹‹åï¼Œæ„å»ºä¸€ä¸ªåä¸º Local Region Decoder çš„åŒºåŸŸå†…åˆ†å‰²ç½‘ç»œï¼Œè¿™ä¸ªç½‘ç»œèåˆäº†å¤šå°ºåº¦çš„ç‰¹å¾ã€‚</p>
<h3 id="32-loss-function-design">3.2 Loss Function design<a hidden class="anchor" aria-hidden="true" href="#32-loss-function-design">#</a></h3>
<p>æ–‡ç« çš„å¦ä¸€ä¸ªæ ¸å¿ƒç‚¹åœ¨äº ==Dice-based Multi-task Hybrid Loss Function (MHL)== çš„è®¾è®¡ã€‚</p>
<p>ä¸Šå›¾çš„ç½‘ç»œç»“æ„å±äºå¤šä»»åŠ¡å­¦ä¹ ï¼ˆLocalization + Segmentationï¼‰ï¼ŒGlobal Image Encoder ä¸»è¦é¢ä¸´ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜ï¼›è€Œ Local Region Decoder åˆ™æ˜¯ç›®æ ‡åŒºåŸŸçš„ç²¾ç¡®è¾¹ç•Œåˆ†å‰²é—®é¢˜ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰Dice Loss</strong></p>
<p><img loading="lazy" src="./20210924/3.png" alt=""  />
</p>
<ul>
<li>N voxels</li>
<li>$p_i \in P$ ï¼špredicted volume</li>
<li>$g_i \in G$ï¼šground truth volume</li>
<li>$\epsilon = 10^{-4}$ ï¼šå¹³æ»‘å‚æ•°</li>
</ul>
<p><strong>ï¼ˆ2ï¼‰Dice Loss for Global Localization</strong></p>
<p><img loading="lazy" src="./20210924/4.png" alt=""  />
</p>
<ul>
<li>$P_{global}$ and $G_{global}$  denotes predictions of the localization top and down-sampled annotations.
<ul>
<li>â“è¿™ä¸ªæˆ‘ä¸å¤ªæ˜ç™½ã€‚æˆ‘çš„ç†è§£æ˜¯ä¸åŒçš„æ£€æµ‹æ–¹æ³•ï¼Œè¿™æ˜¯åªæ˜¯æä¾›äº†ä¸€ä¸ªèŒƒå¼ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ï¼ˆ3ï¼‰Dice-based Contour-aware Loss for Local Segmentation</strong></p>
<p><img loading="lazy" src="./20210924/5.png" alt=""  />
</p>
<ul>
<li><em>Contour</em> è¡¨ç¤ºè¾¹è½®å»“ã€‚ï¼ˆ3D ç©ºé—´ä¸­è½®å»“æ ‡ç­¾çš„æç«¯ç¨€ç–æ€§ï¼‰ï¼›</li>
<li>åœ¨åˆ†å‰²çš„è¾“å‡ºç«¯å¢åŠ ä¸€ä¸ªé¢å¤–çš„ç”± Sigmoid æ¿€æ´»çš„ 1 Ã— 1 Ã— 1 å·ç§¯å±‚æ¥é¢„æµ‹è½®å»“ä½“ç´ ï¼Œå¹¶ä¸åŒºåŸŸåˆ†å‰²ä»»åŠ¡å¹¶è¡Œè®­ç»ƒï¼›</li>
<li>$\lambda_c = 0.5$ï¼Œè¾…åŠ©ä»»åŠ¡çš„æƒé‡ï¼Œç¡®ä¿åŒºåŸŸåˆ†å‰²ä»»åŠ¡å ä¸»å¯¼åœ°ä½ã€‚</li>
</ul>
<p>===&gt; æœ€åå¾—åˆ°æ€»çš„æŸå¤±å‡½æ•°ï¼ŒDice-based Multi-task Hybrid Loss Function (MHL)ï¼š</p>
<p><img loading="lazy" src="./20210924/6.png" alt=""  />
</p>
<ul>
<li>$\beta = 10^{-4}$</li>
</ul>
<h3 id="33-å¤šæ„Ÿå—é‡æ¨¡å‹é›†æˆ">3.3 å¤šæ„Ÿå—é‡æ¨¡å‹é›†æˆ<a hidden class="anchor" aria-hidden="true" href="#33-å¤šæ„Ÿå—é‡æ¨¡å‹é›†æˆ">#</a></h3>
<p>æœ¬æ–‡æå‡ºé‡‡ç”¨å¤šæ„Ÿå—é‡æ¨¡å‹é›†æˆç­–ç•¥ï¼Œèåˆç»“æ„ç›¸åŒä½†æ„Ÿå—é‡è®¾ç½®ä¸åŒçš„æ¨¡å‹ã€‚å¦‚ä¸‹å›¾ï¼Œå°†ä¸‰ä¸ªç½‘ç»œçš„è¾“å‡ºå–å¹³å‡ï¼Œç”Ÿæˆæœ€ç»ˆçš„é¢„æµ‹ã€‚</p>
<p><img loading="lazy" src="./20210924/7.png" alt=""  />
</p>
<p>ä¸åŒæ„Ÿå—é‡æ¨¡å‹ï¼Œå®ç°çš„æ–¹æ³•æ˜¯æ§åˆ¶ç©ºæ´å·ç§¯çš„ dilation rateã€‚ä¸‹è¡¨æ„Ÿå—é‡ä¸º  26 <em>Ã—</em> 64 <em>Ã—</em> 64 ä¸ºåŸå§‹çš„ 3D R-U-Netï¼Œè®°ä¸º 3D RU-Net-RF-64ã€‚</p>
<p><img loading="lazy" src="./20210924/8.png" alt=""  />
</p>
<h2 id="4-experiments">4. Experiments<a hidden class="anchor" aria-hidden="true" href="#4-experiments">#</a></h2>
<h3 id="41-æ•°æ®é›†å’Œé¢„å¤„ç†">4.1 æ•°æ®é›†å’Œé¢„å¤„ç†<a hidden class="anchor" aria-hidden="true" href="#41-æ•°æ®é›†å’Œé¢„å¤„ç†">#</a></h3>
<p>64 ä¾‹ MRI å›¾åƒï¼ŒT2 æ¨¡æ€ã€‚ç›®æ ‡åŒºåŸŸç”±ç»éªŒä¸°å¯Œçš„æ”¾å°„ç§‘åŒ»ç”Ÿè¿›è¡Œæ ‡æ³¨ï¼Œä¸€ä¸ª 3D å›¾åƒé€šå¸¸æœ‰ä¸€åˆ°ä¸¤ä¸ªå«æœ‰ç™Œç»„ç»‡çš„ RoIã€‚ç™Œç»„ç»‡è½®å»“æ ‡ç­¾ <code>contour labels were automatically generated from the region labels of one-voxel thickness using erosion and subtraction operations.</code></p>
<p>crop é»‘è¾¹ã€é‡é‡‡æ · 4.0 Ã— 2.0 Ã— 2.0 mmã€å¼ºåº¦å½’ä¸€åŒ–ã€‚</p>
<p>ä¸‹å›¾æ˜¯å½’ä¸€åŒ–ï¼ˆintensity-normalizedï¼‰çš„æ•ˆæœã€‚</p>
<p><img loading="lazy" src="./20210924/9.png" alt=""  />
</p>
<h3 id="42-å®ç°ç»†èŠ‚">4.2 å®ç°ç»†èŠ‚<a hidden class="anchor" aria-hidden="true" href="#42-å®ç°ç»†èŠ‚">#</a></h3>
<p>ç½‘ç»œç»“æ„å¦‚ Table 1 æ‰€ç¤ºã€‚</p>
<ul>
<li>Optimizer: Adam</li>
<li>batch size = 1</li>
<li>è¾“å…¥çš„ shape = ï¼Ÿ</li>
<li>learning rate: 10e-4</li>
<li>L2 norm: 10e-4</li>
<li>å…ˆè®­ç»ƒ RoI Locatorï¼Œç›´åˆ°è¯„ä¼° Loss ä¸åœ¨é™ä½ï¼›</li>
<li>å†è”åˆè®­ç»ƒ RoI Locator å’Œåˆ†å‰²åˆ†æ”¯ã€‚è”åˆè®­ç»ƒè¿‡ç¨‹çš„ Loss æ¥è‡ª RoI Locator + SegHead1 + SegHead2ã€‚</li>
</ul>
<p>è¯„ä¼°æŒ‡æ ‡ï¼š<strong>Dice Similarity Coefficient (DSC)</strong>ã€<strong>Voxel-wise Recall Rate</strong>ã€<strong>Average Symmetric Surface Distance (ASD)</strong>ã€‚</p>
<p>2 å— NVIDIA Titan(12 GB GPU memory)</p>
<h3 id="43-å®éªŒç»“æœ">4.3 å®éªŒç»“æœ<a hidden class="anchor" aria-hidden="true" href="#43-å®éªŒç»“æœ">#</a></h3>
<p>Table 2ï¼ˆæ¶ˆèå­¦ä¹ ï¼‰ã€Figure 5ã€Figure 6</p>
<p>ï¼ˆ1ï¼‰<img loading="lazy" src="./20210924/10.png" alt=""  />
</p>
<p>ï¼ˆ2ï¼‰<img loading="lazy" src="./20210924/11.png" alt=""  />
</p>
<h2 id="5-discussion">5. Discussion<a hidden class="anchor" aria-hidden="true" href="#5-discussion">#</a></h2>
<p><img loading="lazy" src="./20210924/13.png" alt=""  />
</p>
<p>ç›¸æ¯”äºä¼ ç»Ÿçš„ Encoder-Decoder åœ¨æ¯ä¸ªè·¯å¾„ä¸Šå„èŠ±è´¹ 50%ï¼Œæœ¬æ–‡é€šè¿‡æ„å»º Local Region Decoderï¼ŒGPU å¯ä»¥å°†å…¶ 90% çš„ GPU å†…å­˜åˆ†é…ç»™ Encoderï¼Œä»¥å¤„ç†æ›´å¤§çš„è¾“å…¥ä½“ç§¯ï¼Œåªåœ¨åˆ†å‰²é˜¶æ®µèŠ±è´¹ 10% çš„å†…å­˜ã€‚å› æ­¤ï¼Œå¯ä»¥å¤„ç†çš„ä½“ç§¯å¤§å°è¢«å¤§å¤§çš„æ‰©å¤§äº†ï¼ï¼ˆæœ‰å‡ ç‡ä¸ç”¨é¢„å…ˆåˆ‡ Patch äº†ï¼‰</p>
<p>æå‡ºçš„æ–¹æ³•çš„å±€é™æ€§ï¼š</p>
<ol>
<li>
<p>æ¨¡å‹ç»å¸¸æ··æ·†å“ªä¸ªåˆ‡ç‰‡å¼€å§‹æˆ–ç»“æŸï¼Œè¿™å¯¹å¾—åˆ†çš„å½±å“è¾ƒå¤§ï¼ˆFigure 6ï¼‰</p>
<ul>
<li>
<blockquote>
<p>è¿™ä¸ªå›°éš¾æ˜¯ä¸æ•°æ®ç›¸å…³çš„ï¼Œç”±äºç™Œç»„ç»‡è¾¹ç•Œçš„å¯¹æ¯”åº¦è¾ƒå¼±ï¼Œæ²¿ Z è½´çš„åˆ†è¾¨ç‡è¾ƒä½ï¼Œå¼€å§‹å’Œç»“æŸåˆ‡ç‰‡æŒ‡æ•°çš„å†³å®šå¯èƒ½å–å†³äºè§‚å¯Ÿè€…ã€‚</p>
</blockquote>
</li>
</ul>
</li>
</ol>
<p><img loading="lazy" src="./20210924/12.png" alt=""  />
</p>
<ol start="2">
<li>æ²¡æœ‰è¿›è¡Œå®ä¾‹åˆ†å‰²ç›¸å…³çš„æ¢ç´¢</li>
</ol>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<ul>
<li>æå‡ºäº†è”åˆ RoI localization-segmentation-based æ¡†æ¶ï¼ˆ3D RoI-aware U-Netï¼‰ï¼›</li>
<li>å¼ºè°ƒäº†å°† RoI å®šä½å’ŒåŒºåŸŸå†…åˆ†å‰²ç»“åˆ==å…¨å±€ç¼–ç ç‰¹å¾==çš„é‡è¦æ€§å’Œæœ‰æ•ˆæ€§ï¼›</li>
<li>æå‡ºå¤šä»»åŠ¡æ··åˆæŸå¤±(MHL)æ¥å¹³æ»‘è®­ç»ƒè¿‡ç¨‹ï¼›</li>
<li>å®éªŒç»“æœè¡¨æ˜ï¼Œè¯¥æ–¹æ³•åœ¨é€Ÿåº¦å’Œå‡†ç¡®æ€§æ–¹æ³•å…·æœ‰è¾ƒå¤§ä¼˜åŠ¿ï¼›</li>
<li>åŸåˆ™ä¸Šï¼Œæ­¤æ¡†æ¶å…·æœ‰è‰¯å¥½çš„å¯æ‹“å±•æ€§ï¼Œå¯ä»¥ç”¨äºå…¶ä»–åŒ»å­¦å›¾åƒåˆ†å‰²ä»»åŠ¡ã€‚</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://landodo.github.io/tags/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/">è®ºæ–‡é˜…è¯»</a></li>
      <li><a href="http://landodo.github.io/tags/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E5%89%B2/">åŒ»å­¦å›¾åƒåˆ†å‰²</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://landodo.github.io/posts/20211024-latent-space-data-augmentation/">
    <span class="title">Â« Prev Page</span>
    <br>
    <span>20211024 Latent Space Data Augmentation</span>
  </a>
  <a class="next" href="http://landodo.github.io/posts/20210912-rapid-vessel-segmentation/">
    <span class="title">Next Page Â»</span>
    <br>
    <span>Rapid vessel segmentation and reconstruction of head and neck angiograms using 3D convolutional neural network.</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>Landon</span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
